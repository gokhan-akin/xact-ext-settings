var attribute={},element={},predictionTimer=null;let CLASSNAME={MISMATCH:"mismatch",MISSING:"missing",MATCH:"match",PRESENT:"present",NOT_APPLICABLE:"not_applicable"};async function loadGoogleAPI(e="AIzaSyCw01UdxpO20iaCGa5qolrqbEFUcUT6Srg"){return await new Promise(((t,n)=>{const i=document.createElement("script");i.src=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places&loading=async`,i.onload=function(){t(!0)},i.onerror=function(){t(!1)},document.head.appendChild(i)}))}async function loadChartJS(){return await new Promise(((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/chart.js",n.onload=function(){e(!0)},n.onerror=function(){e(!1)},document.head.appendChild(n)}))}async function loadUberall(){return await new Promise(((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/gh/gokhan-akin/xact-ext-settings@latest/uberall.js",n.onload=function(){e(!0)},n.onerror=function(){e(!1)},document.head.appendChild(n)}))}async function loadStatusCheckMessages(e){return await new Promise(((t,n)=>{const i=document.querySelector("head");fetch(`https://uberall.com/de/home/statusCheckMessages?public_key=${e}`).then((e=>e.text())).then((e=>{e.match(/(?<=<script>|<script\stype=["']text\/javascript["']>)[\s\S\r\n]*?(?=<\/script>)/gim).forEach((e=>{const t=document.createElement("script");t.type="text/javascript",t.text=e.replaceAll("\\u002f","/"),i.appendChild(t)})),t(!0)})).catch((e=>{console.log("Err fetching statusCheckMessages:",e),t(!1)}))}))}async function loadWidget(){let e=document.querySelector("div.ub_status_check_widget")??document.querySelector("#ubwrap");if(e){if(attribute=getWidgetAttributes(e),await loadStatusCheckMessages(attribute.key),!statusCheckMessages)return null;if(e.id="ubwrap",e.innerHTML='<style> * { font-size: 14px; font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen, Ubuntu, Cantarell, \'Open Sans\', \'Helvetica Neue\', sans-serif; } #ubformfield[disabled] { opacity: 0.6; } #ubwrap, .ub_status_check_widget { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; padding-top: 0px; position: relative; z-index: 888; box-sizing: border-box; min-height: 540px; background: white; } #ubinwrap { position: absolute; top: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; background: white; } #ubformfield input, #ubformfield select { /*border-radius: 2px;*/ /*background-color: rgba(0, 0, 0, 0.437);*/ /*color: #ffffff;*/ color: #808080; border-radius: 10px; border: 1px solid #ffffff61; height: 40px; width: 100%; box-sizing: border-box; padding-left: 10px; outline: none; } #ubformfield input:disabled, #ubformfield select:disabled { outline: none; border: none; /*opacity: 0.4;*/ } #ubformfield label { /*display: none;*/ color: #ffffff; margin: 5px 8px; font-size: 10px; letter-spacing: 1px; user-select: none; } #ubformfield label[for="ubsend"] { visibility: hidden; } div#addressprediction { position: relative; width: 70%; padding: 5px; box-sizing: border-box; } #ubformfield { display: flex; justify-content: center; align-items: center; flex-direction: column; border-radius: 40px; /*background: linear-gradient(.45turn, rgb(170, 230, 255), rgb(0, 140, 255));*/ background-color: #60AB60; width: 100%; min-width: 650px; max-width: 1200px; height: 180px; } form#ubform { width: 70%; display: flex; justify-content: center; align-items: center; } button#ubsend { /*background-color: #95edff;*/ /*color: #0F6DE9;*/ /*border-radius: 2px;*/ /*text-shadow: 0px 0px 1px #0F6DE9;*/ border-radius: 20px 0px; background-color: #243f2f; color: white; height: 40px; width: 100%; border: none; font-size: 12px; letter-spacing: 0.1em; cursor: pointer; } button#ubsend:hover { opacity: 0.8; } button#ubsend:disabled { cursor: default; opacity: 0.5; } input::placeholder { color: #ffffff5d; } div#ubname, div#ubstreet, div#ubzip, div#ubcountry, div#ubsend { display: flex; flex-direction: column; margin: 5px; height: 100%; } div#ubname, div#ubstreet { width: 80%; } div#ubzip { width: 30%; } div#ubcountry { width: 60%; } div#ubsend { width: 80%; } #queryInfo { display: none; flex-direction: column; justify-content: center; align-items: center; width: 100%; } #queryCaptionText { text-align: center; margin-top: 15px; font-style: italic; color: rgb(119, 137, 159); user-select: none; } #searchQuery { max-width: 60%; text-align: center; font-size: 16px; font-weight: bold; margin-bottom: 10px; color: rgb(76, 98, 125); } #queryLine { width: 100%; display: flex; justify-content: center; align-items: center; cursor: pointer; margin: 10px 0px; } #queryLine * { margin: 0px 5px; } /*#searchQuery::after { content: "üñäÔ∏è"; margin: 0px 5px; display: inline-block; cursor: pointer; }*/ #topinfo { display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; } #bottominfo { max-width: 1000px; visibility: hidden; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 100%; } span { color: inherit; } #bottominfo hr { border: none; border-top: 2px solid rgb(234, 234, 234); width: 100%; } #resultsListText { font-size: 20px; width: 100%; text-align: left; font-weight: bold; margin: 5px; color: rgb(37, 81, 128); padding-left: 100px; } #qualityText { margin: 10px 0px; color: rgb(119, 137, 159); user-select: none; } #totalPortals { font-weight: bold; font-size: 16px; margin: 2px; color: inherit; } #resultsList { display: flex; align-items: center; justify-content: center; flex-direction: column; width: 100%; } #result { width: 100%; /*height: 170px;*/ /*min-height: 170px;*/ min-height: 100px; height: 110px; max-height: 170px; display: flex; align-items: center; /*padding: 30px;*/ padding: 15px; box-sizing: border-box; } #result a { text-decoration: none; color: inherit; } #result #name { font-size: 18px; font-weight: bold; color: #2c2c2c; } #result .portaldiv { height: 100%; width: 20%; display: flex; flex-direction: column; justify-content: center; align-items: center; font-weight: bolder; margin: 0px 20px; } #result #portal_img { width: 100%; max-width: 45px; } #result #portal_name { color: #656565; } #header { margin: 40px 0px 20px; } #header #headertext { font-size: 30px; font-weight: bold; letter-spacing: -2px; color: rgb(64, 101, 146); color: #525252; user-select: none; } #result .infos { display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly; height: 100%; width: 50%; text-wrap: nowrap; overflow: hidden; } #result #details { display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly; height: 100%; width: 100%; color: #2c2c2c; } #result svg { height: 60px; width: 50px; fill: #ececec; } #result .svgdiv { width: 10%; margin: 0px 10px; text-align: center; } #result .missing, #result .mismatch { fill: rgb(232, 99, 99); color: rgb(232, 99, 99); font-weight: bold; } #result span.not_applicable { font-style: italic; color: #a3a3a3; } #result svg.not_applicable { fill: rgba(163, 163, 163, 0.196); } #result svg.match, #result svg.present { fill: rgb(99, 166, 99); } #result:nth-child(odd) { background-color: var(--altColor) } #graphInfo { width: 100%; height: 100%; display: flex; justify-content: space-evenly; align-items: center; } #ubcta { display: flex; flex-direction: column; } #ubcta button#ctabutton { border-radius: 20px 0px; background-color: #5a859d; background: radial-gradient(#5a859d, #96b4c5); color: white; height: 60px; width: 100%; border: none; font-size: 14px; letter-spacing: 0.1em; margin: 20px 0px; cursor: pointer; user-select: none; } #ubcta button#ctabutton:hover { opacity: 0.6; } #ubcta span#ctatext { text-align: center; max-width: 270px; font-size: 24px; margin: 20px 0px; font-weight: bold; color: #3b5969; user-select: none; } #ubtable { width: 100%; } #ubgridwrap { display: none; flex-direction: column; align-items: center; justify-content: center; width: 900px; margin: 30px; user-select: none; } #ubgridcaption { font-weight: bold; font-size: 16px; color: #525252; } #ubgrid { display: flex; justify-content: center; flex-wrap: wrap; width: 100%; margin: 30px; } #ubgrid .gridEntry { width: 128px; height: 51px; max-width: 128px; max-height: 51px; display: flex; flex-direction: column; justify-content: center; align-items: center; box-sizing: border-box; margin-bottom: 20px; color: #606060; } #ubgrid .gridEntry img, #ubgrid .gridEntry .gridEntryLogo { max-height: 32px; } #ubgrid .gridEntry .gridEntryName { font-size: 11px; text-align: center; text-shadow: 0px 0px 2px rgb(143, 134, 134); } .flatback { position: fixed; inset: 0px; z-index: 9998; display: none; justify-content: center; align-items: center; z-index: 99999; } .loading { position: absolute; background-color: rgba(14, 26, 36, 0.5); top: 0px; left: 0px; height: 100%; width: 100%; display: none; justify-content: center; align-items: center; } .loading img { max-width: 200px; } .modal { background-color: #ffffff; box-shadow: 0px 0px 25px #000000ab; border-radius: 50px; min-width: 700px; min-height: 400px; display: flex; flex-direction: column; justify-content: space-evenly; align-items: center; color: white; box-sizing: border-box; padding: 10px; } .error { position: absolute; background-color: rgba(14, 26, 36, 0.5); top: 0px; left: 0px; height: 100%; width: 100%; display: none; justify-content: center; align-items: center; } .emodal { background-color: #ffffff; box-shadow: 0px 0px 25px #000000ab; border-radius: 10px; max-width: 450px; padding: 30px; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #4b4b4b; text-align: center; user-select: none; } .closebtn { height: 36px; width: 50%; border-radius: 10px; background-color: #1e6eb3b3; border: none; color: white; user-select: none; cursor: pointer; font-style: bolder; font-size: 12px; letter-spacing: 1px; } #myProgress { width: 60%; background-color: #94ba3354; border-radius: 30px 0px; overflow: hidden; } #myBar { width: 1%; height: 13px; background-color: #94BA33; border-radius: 30px 0px; } #skipSvg { width: 32px; height: 27px; fill: #97A5FB; cursor: pointer; } #skipSvg[disabled] { opacity: 0.2; cursor: default; } /* Basic styling for the input and dropdown */ #predictionList { display: flex; flex-direction: column; width: 100%; z-index: 999999; background-color: white; border-radius: 5px 5px 10px 10px; text-wrap: nowrap; position: absolute; overflow: hidden; box-shadow: 0px 5px 5px rgba(0, 0, 0, 0.383); box-sizing: border-box; } #predictionEntry { height: auto; width: 100%; padding: 10px; cursor: pointer; border-bottom: 1px solid rgba(0, 0, 0, 0.111); box-sizing: border-box; } #predictionEntry img { margin: 0px 10px; height: 16px; } #predictionEntry:hover { background-color: rgba(0, 0, 0, 0.349); } #timesInfo { user-select: none; cursor: default; box-shadow: 0px 0px 5px #0000006b; border-radius: 5px; padding: 10px; background-color: rgb(255, 255, 255); position: absolute; display: none; flex-direction: column; justify-content: flex-start; align-items: flex-start; text-align: left; margin-top: 40px; margin-left: 60px; z-index: 1000; } #timeLine { display: flex; align-items: center; justify-content: center; padding: 3px; } #timeLine svg { margin-right: 5px; } #pdfLink { display: flex; justify-content: space-evenly; align-items: center; margin-top: 15px; text-align: center; width: 100%; } #pdfLink .pdflinkbtn { color: #11647db3; border: 1px solid rgba(0, 0, 0, 0.2); box-shadow: 0px 0px 2px rgba(0, 0, 0, 0.168); border-radius: 10px; padding: 5px 20px; cursor: pointer; user-select: none; /*background-color: rgb(249, 249, 249);*/ background: none; box-shadow: none; border: none; overflow: hidden; text-wrap: nowrap; } #pdfLink .pdflinkbtn img { margin-right: 10px; } #pdfLink .pdflinkbtn:hover { opacity: 0.7; } #pdfLink .pdflinkbtn:disabled { opacity: 0.4; border: none; cursor: default; } #pdfLink #copyLink { display: flex; align-items: center; justify-content: space-evenly; } #pdfLink #pdfExport { display: flex; align-items: center; justify-content: space-evenly; } .managed { color: #63A663; font-weight: bolder; } </style> <div class="flatback"> <div class="loading"> <div class="modal"> <img draggable="false" src="https://static.wixstatic.com/media/52c20f_24e1624f84364dfa9e9a51c913c6e6cf~mv2.gif"> <div id="myProgress"> <div id="myBar"></div> </div> <div id="skipCheck"> <svg disabled id="skipSvg" preserveAspectRatio="none" viewBox="0 0 512 440.638" image-rendering="optimizeQuality" text-rendering="geometricPrecision" shape-rendering="geometricPrecision" height="441" width="512" xmlns="http://www.w3.org/2000/svg" data-type="shape" role="presentation" aria-hidden="true"> <path d="M175.62 399.21c9.75 2.44 15.69 12.33 13.25 22.08-2.44 9.76-12.33 15.69-22.08 13.25-59.06-14.88-106.52-52.3-135.48-100.77C2.34 285.3-8.14 225.8 6.72 166.78c14.87-59.06 52.3-106.5 100.77-135.47S215.46-8.14 274.48 6.72c20.6 5.19 39.82 13.14 57.33 23.35a219.44 219.44 0 0 1 47.18 36.99l.14-11.58c.13-10.04 8.38-18.07 18.41-17.94 10.03.13 18.06 8.38 17.94 18.4l-.71 58.06c-.02 1.86-.33 3.65-.87 5.33-1.66 9.08-9.99 15.59-19.38 14.8l-57.87-4.65c-10.01-.84-17.43-9.63-16.59-19.63.84-10 9.63-17.42 19.62-16.58l15.28 1.23c-.33-.3-.66-.62-.97-.95-11.78-12.38-25.35-23.21-40.42-31.99-14.61-8.52-30.68-15.17-47.92-19.51-49.36-12.43-99.06-3.7-139.5 20.47-40.44 24.17-71.68 63.78-84.1 113.1-12.43 49.35-3.7 99.06 20.47 139.49 24.17 40.44 63.79 71.68 113.1 84.1zM123.11 288.7l5.32-29.31c11.64 2.91 22.13 4.37 31.43 4.37 9.31 0 16.81-.38 22.51-1.14v-11.53l-17.1-1.52c-15.44-1.39-26.05-5.1-31.81-11.11-5.76-6.01-8.64-14.91-8.64-26.69 0-16.21 3.51-27.34 10.54-33.42 7.02-6.08 18.96-9.12 35.8-9.12 16.85 0 32.03 1.58 45.59 4.75L212 202.33c-11.78-1.9-21.21-2.84-28.3-2.84-7.1 0-13.11.31-18.05.94v11.34l13.68 1.33c16.58 1.65 28.05 5.61 34.38 11.87 6.33 6.27 9.5 14.98 9.5 26.12 0 7.98-1.08 14.72-3.24 20.23-2.15 5.51-4.71 9.69-7.68 12.54-2.99 2.84-7.2 5.03-12.64 6.55-5.44 1.52-10.22 2.43-14.34 2.75-4.11.32-9.59.48-16.43.48-16.46 0-31.72-1.65-45.77-4.94zm153.75-49.57v51.66h-37.99V172.08h37.99v48.43c1.71 0 19.22-44.1 21.27-48.43h41.03l-28.49 58.31 29.44 60.4h-41.03l-21.46-51.66h-.76zm76.07 51.66V172.08h37.98v118.71h-37.98zm121.08-28.69h-26.73v28.69h-35.95V172.08h59.83c27.22 0 40.84 14.62 40.84 43.87 0 16.08-3.55 27.99-10.64 35.71-2.66 2.91-6.34 5.38-11.02 7.41-4.68 2.02-10.13 3.03-16.33 3.03zm-26.73-61.67v33.32h10.78c4.55 0 7.88-.48 9.97-1.42 2.08-.95 3.13-3.14 3.13-6.56v-17.36c0-3.42-1.06-5.61-3.13-6.55-2.09-.94-5.43-1.43-9.97-1.43h-10.78zm-209 203.82c-18.71 1.5-23.29 28.46-4.04 35.46 2.66.81 4.7 1.08 7.52.85 12.97-1.16 26.57-3.61 39.08-7.21 20.42-5.96 16.15-36.68-6.37-35.74-1.23.11-2.46.31-3.63.66-8.66 3.03-23.3 5.15-32.56 5.98zm91.77-35c-6.7 5.02-9.03 13.68-6 21.43 4.52 11.06 18.25 14.97 27.83 7.78 10.62-7.8 20.59-16.91 29.58-26.53 2.87-3.05 4.65-7.3 4.83-11.45.74-17.07-19.88-25.75-31.6-13.34-7.26 7.94-15.98 15.74-24.64 22.11z" fill-rule="nonzero"></path> </svg> </div> </div> </div> <div class="error"> <div class="emodal"> <img draggable="false" src="https://static.wixstatic.com/media/52c20f_26036272f923465eb57deb56632f0b85~mv2.gif" style="height:64px"> <p>Die eingegebene Adresse konnte leider nicht gefunden werden.<br>Bitte √ºberpr√ºfen Sie Ihre Angaben. </p> <button class="closebtn" id="closeError" onclick="toggleErrorModal(\'\', false)">Okay</button> </div> </div> </div> <div id="ubwrap"> <div id="ubinwrap"> <div id="header"> <span id="headertext">Testen sie Ihre Auffindbarkeit</span> </div> <div id="topinfo"> <div id="queryInfo"> <span id="queryCaptionText">Ihr Auffindbarkeits-Ergebnis f√ºr</span> <div id="queryLine"> <span id="searchQuery">-, -, -</span> <img src="https://cdn-icons-png.flaticon.com/512/3597/3597075.png" width="21" height="21"> </div> </div> <div id="ubformfield"> <div id="addressprediction"> <label for="prediction">Adresse Suche</label> <input title="prediction" id="prediction" placeholder="Suche..." autocomplete="off"> <div id="predictionList"></div> </div> <form id="ubform"> <div id="ubcountry"> <label for="ubcountry">Land</label> <select title="ubcountry" id="ubcountry"></select> </div> <div id="ubname"> <label for="ubname">Name</label> <input title="ubname" id="ubname" placeholder="Name"> </div> <div id="ubstreet"> <label for="ubstreet">Adresse</label> <input title="ubstreet" id="ubstreet" placeholder="Adresse"> </div> <div id="ubzip"> <label for="ubzip">PLZ</label> <input title="ubzip" id="ubzip" placeholder="PLZ" maxlength="5"> </div> <div id="ubsend"> <label for="ubsend">.</label> <button id="ubsend" type="button" onclick="searchInit()">TESTEN</button> </div> </form> </div> </div> <div id="bottominfo"> <div id="pdfLink"> <button id="copyLink" class="pdflinkbtn"><img draggable="false" src="https://cdn-icons-png.freepik.com/512/7671/7671236.png" width="21" height="21"><span>Ergebnis teilen</span></button> <button id="pdfExport" class="pdflinkbtn" onclick="pdfExportInit()"><img draggable="false" src="https://www.iconpacks.net/icons/2/free-pdf-icon-3385-thumb.png" width="21" height="21"><span>PDF Export</span></button> </div> <span id="qualityText">Qualit√§t Ihrer derzeit online auffindbaren Firmendaten, erfolgreich gesucht in <span id="totalPortals">-</span> Verzeichnissen:</span> <div id="graphInfo"> <div id="ubgraph" style="display:block;"><canvas id="ubcanvas" width="300" height="300"></canvas> </div> <div id="ubcta"> <span id="ctatext">Jetzt Online-Pr√§senz optimieren</span> <a id="ctalink"><button type="button" id="ctabutton" name="ctabutton">Jetzt Optimieren</button></a> </div> </div> <div id="ubtable"> <span id="resultsListText">Ergebnisliste</span> <hr> <div id="resultsList"> <div id="result"> <div class="portaldiv"> <a id="listingurl" target="_blank"> <img draggable="false" src="" id="portal_img"> </a> <span id="portal_name">-</span> </div> <div class="infos"> <span id="name">-</span> <div id="details"> <span id="street">-, -</span> <span id="number">-</span> <a id="website" target="_blank">-/</a> </div> </div> <div class="svgdiv"> <div id=timesInfo></div> <svg id="times" viewbox="0 0 800 400"> <path d="M48.1,35.3h3.2c0.9,0,1.6,0.7,1.6,1.6c0,0,0,0,0,0v14c0,0.4-0.2,0.8-0.4,1.2l-9,9c-0.6,0.6-1.6,0.6-2.2,0 l-2.2-2.2c-0.6-0.6-0.6-1.6,0-2.2l7.5-7.6V37c-0.1-0.8,0.5-1.6,1.4-1.7C48,35.3,48,35.3,48.1,35.3z" /> <path d="m256 8c-137 0-248 111-248 248s111 248 248 248 248-111 248-248-111-248-248-248zm92.49 313-20 25a16 16 0 0 1 -22.49 2.5l-67-49.72a40 40 0 0 1 -15-31.23v-155.55a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v144l58 42.5a16 16 0 0 1 2.49 22.5z" /> </svg> </div> <div class="svgdiv"> <svg id="photos" viewbox="0 0 700 400"> <path d="M308.1,277.95c0,35.7-28.9,64.6-64.6,64.6s-64.6-28.9-64.6-64.6s28.9-64.6,64.6-64.6S308.1,242.25,308.1,277.95z M440.3,116.05c25.8,0,46.7,20.9,46.7,46.7v122.4v103.8c0,27.5-22.3,49.8-49.8,49.8H49.8c-27.5,0-49.8-22.3-49.8-49.8v-103.9 v-122.3l0,0c0-25.8,20.9-46.7,46.7-46.7h93.4l4.4-18.6c6.7-28.8,32.4-49.2,62-49.2h74.1c29.6,0,55.3,20.4,62,49.2l4.3,18.6H440.3z M97.4,183.45c0-12.9-10.5-23.4-23.4-23.4c-13,0-23.5,10.5-23.5,23.4s10.5,23.4,23.4,23.4C86.9,206.95,97.4,196.45,97.4,183.45z M358.7,277.95c0-63.6-51.6-115.2-115.2-115.2s-115.2,51.6-115.2,115.2s51.6,115.2,115.2,115.2S358.7,341.55,358.7,277.95z" /> </svg> </div> </div> </div> </div> </div> <div id="ubgridwrap"> <div id="ubgridcaption">Ist Ihre Firma in diesen Verzeichnissen korrekt eingetragen?</div> <div id="ubgrid"> </div> </div> </div> </div>',element=getElements(e),await loadGoogleAPI(),await loadChartJS(),await loadUberall(),attribute.hasOwnProperty("directories")&&(attribute.directories=attribute.directories.split(",")),element.qualityText&&(element.qualityText.innerHTML=`${statusCheckMessages["top.box.chart.explanation"]} <span id="totalPortals">-</span> ${statusCheckMessages["top.box.chart.explanation.2"]}`,element.totalPortals=document.querySelector("#totalPortals")),element.copyLink){let e=element.copyLink.querySelector("span");e&&(e.innerHTML=statusCheckMessages["share.link"])}if(element.pdfExport){let e=element.pdfExport.querySelector("span");e&&(e.innerHTML=statusCheckMessages["download.pdf.link"])}if(element.queryCaptionText&&(element.queryCaptionText.innerHTML=statusCheckMessages["results.header"]),element.resultsListText&&(element.resultsListText.innerHTML=statusCheckMessages["results.table.header"]),element.ubgridcaption&&(element.ubgridcaption.innerHTML=statusCheckMessages["directory.grid.title"]),element.ubcountry&&attribute.countries){let e=attribute.countries.split(",");countryDropdownData&&e.forEach((e=>{if(countryDropdownData[e]){let t=document.createElement("option");t.value=e,t.textContent=countryDropdownData[e].name,element.ubcountry.appendChild(t)}}))}element.button&&(attribute.hasOwnProperty("buttonbgcolor")&&attribute.buttonbgcolor.length&&(element.button.style.backgroundColor=attribute.buttonbgcolor),attribute.hasOwnProperty("buttontextcolor")&&attribute.buttontextcolor.length&&(element.button.style.color=attribute.buttontextcolor)),element.form&&attribute.hasOwnProperty("bgcolor")&&attribute.bgcolor.length&&(element.form.style.backgroundColor=attribute.bgcolor),element.headertext&&attribute.hasOwnProperty("headertext")&&attribute.headertext.length&&(element.headertext.textContent=attribute.headertext),element.ctatext&&attribute.hasOwnProperty("ctatext")&&(element.ctatext.textContent=attribute.ctatext),element.ctabutton&&attribute.hasOwnProperty("ctabuttontext")&&(element.ctabutton.textContent=attribute.ctabuttontext),element.ctalink&&attribute.hasOwnProperty("ctalink")&&(element.ctalink.href=attribute.ctalink),element.allLinks&&attribute.hasOwnProperty("linkcolor")&&attribute.linkcolor.length&&element.allLinks.forEach((e=>{e.style.color=attribute.linkcolor})),element.allTexts&&attribute.hasOwnProperty("textcolor")&&attribute.textcolor.length&&element.allTexts.forEach((e=>{e.style.color=attribute.textcolor})),element.ubtable&&(attribute.hasOwnProperty("showtable")&&"true"!=attribute.showtable?element.ubtable.style.display="none":element.ubtable.style.removeProperty("display")),element.pdfExport&&attribute.hasOwnProperty("pdfexport")&&"true"!=attribute.pdfexport&&(element.pdfExport.style.display="none"),element.copyLink&&attribute.hasOwnProperty("sharelink")&&"true"!=attribute.sharelink&&(element.copyLink.style.display="none"),attribute.paddingtop&&"string"==typeof attribute.paddingtop&&(e.style.paddingTop=e.style.paddingTop),actualizeDirectoryGrid(),actualizeChart(),toggleResults(!1),element.queryLine&&element.queryLine.addEventListener("click",(function(e){toggleForm()})),element.copyLink&&element.copyLink.addEventListener("click",(function(e){let t=element.copyLink.innerHTML;element.copyLink.hasAttribute("url")&&navigator.clipboard.writeText(element.copyLink.getAttribute("url")).then((()=>{let e=element.copyLink.querySelector("span");e&&(e.innerHTML=statusCheckMessages["share.link.copy.success"]),element.copyLink.disabled=!0,setTimeout((()=>{element.copyLink.innerHTML=t,element.copyLink.disabled=!1}),1e3)}))})),element.ubcountry.addEventListener("change",(function(e){actualizeDirectoryGrid()})),[element.ubname,element.ubstreet,element.ubzip].forEach((function(e){e.addEventListener("keydown",(function(e){13===e.keyCode&&element.button&&!element.button.getAttribute("disabled")&&element.button.click()}))})),element.skipSvg.addEventListener("click",(function(e){element.skipSvg.hasAttribute("disabled")||processResults()})),element.predictionInput.addEventListener("input",(()=>{predictionTimer&&clearTimeout(predictionTimer);const e=element.predictionInput.value;e.length>5?predictionTimer=setTimeout((()=>{fetchPredictions(e)}),500):element.predictionList.innerHTML=""}));document.querySelectorAll("#ubname,#ubstreet,#ubzip").forEach((function(e){e.removeEventListener("keydown",(()=>{})),e.addEventListener("keydown",(function(e){13===e.keyCode&&element.button&&!element.button.getAttribute("disabled")&&element.button.click()}))})),document.addEventListener("click",(function(e){let t=document.querySelector(":focus");t&&(/prediction|prediction/gi.test(t.id)||!e.target||/prediction|prediction/gi.test(e.target.id))||(displayPredictions(null,null),element.predictionInput&&(element.predictionInput.value=""))})),initParams()}}function fetchPredictions(e){if("undefined"==typeof google)return;(new google.maps.places.AutocompleteService).getPlacePredictions({input:e},displayPredictions)}function predictionOnClick(e,t,n,i,r){element.ubname&&element.ubstreet&&element.ubzip&&element.ubcountry&&(element.ubname.value=t,element.ubstreet.value=n,element.ubzip.value=i,element.ubcountry.value=r)}function getComponent(e,t,n=!1){return n?e.find((e=>e.types.includes(t)))?.short_name||"":e.find((e=>e.types.includes(t)))?.long_name||""}function displayPredictions(e,t){if(element.predictionList.innerHTML="","undefined"==typeof google||t!==google.maps.places.PlacesServiceStatus.OK||!e)return;const n=new google.maps.places.PlacesService(document.createElement("div"));e.forEach((e=>{n.getDetails({placeId:e.place_id,fields:["name","address_components"]},(function(t,n){if(n===google.maps.places.PlacesServiceStatus.OK){const n=document.createElement("div");n.id="predictionEntry";const i=t.address_components,r=getComponent(i,"street_number"),o=getComponent(i,"route")+(r&&r.length?" "+r:""),a=getComponent(i,"postal_code"),s=getComponent(i,"country",!0),l=t.name;let c=`${l}, ${o}, ${s}-${a}`;e.matched_substrings.forEach((t=>{let n=e.description.substr(t.offset,t.length),i=c.toLowerCase().indexOf(n.toLowerCase());i>-1&&(c=c.substring(0,i)+"<b>"+c.substring(i,i+t.length)+"</b>"+c.substring(i+n.length))})),n.innerHTML=c,n.addEventListener("click",(function(e){predictionOnClick(e,l,o,a,s)})),element.predictionList.appendChild(n)}}))}))}async function initParams(){let e=getParams();if(e.ubrecheckid&&e.ubrechecktoken){let t=await uberall.getRecheckInfo({recheckid:e.ubrecheckid,rechecktoken:e.ubrechecktoken});t&&(e.ubname=t.name,e.ubstreet=`${t.street} ${t.streetNo}`,e.ubzip=t.zip,e.ubcountry=t.country,e.ubcity=t.city)}element.ubname&&element.ubstreet&&element.ubzip&&element.ubcountry&&(element.ubcountry.value=e.ubcountry??"DE",element.ubname.value=e.ubname??"",element.ubstreet.value=e.ubstreet??"",element.ubzip.value=e.ubzip??""),(e.ubrecheckid&&e.ubrechecktoken||"true"==e.autostart)&&searchInit(e)}async function generatePDF(e,t=!0){let n,i={token:element.pdfExport.getAttribute("token")??element.pdfExport.getAttribute("ubrechecktoken")??element.pdfExport.getAttribute("rechecktoken"),showgraph:"true"==(element.widget.getAttribute("data-showgraph")??!0),bgcolor:element.widget.getAttribute("data-bgcolor")??"#27435c",contactphone:element.widget.getAttribute("data-contactphone")??"",contactemail:element.widget.getAttribute("data-contactemail")??"",headertext:element.widget.getAttribute("data-headertext")??"Testen Sie Ihre Auffindbarkeit",language:element.widget.getAttribute("data-language")??"de",public_key:element.widget.getAttribute("data-key")??void 0};if(console.log(i),t)n=await uberall.pdfExport(i.token,void 0,i.public_key,i.showgraph,"#27435c",i.contactphone,i.contactemail,i.headertext,i.language);else{let t=await fetch("http://localhost:3000/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),i=await t.json();n=i.link??i.url}return n}function pdfExportInit(){if(!element.pdfExport)return null;let e=element.pdfExport.innerHTML;element.pdfExport.disabled=!0;let t=element.pdfExport.querySelector("span");function n(){element.pdfExport.innerHTML=e,element.pdfExport.disabled=!1}t&&(t.innerHTML=statusCheckMessages["download.pdf.in.progress"]),generatePDF(window.lastSearchData).then((e=>{const t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),n()})).catch((e=>{console.log("Error PDF Export:",e),n()}))}function searchInit(e=null){delete window.lastSearchData,toggleButton(!1),toggleResults(!1),element.copyLink&&element.copyLink.removeAttribute("url"),element.pdfExport&&(element.pdfExport.removeAttribute("recheckid"),element.pdfExport.removeAttribute("token"));let t={infoTextSize:14,boolTickSize:18,directoryLogoSize:32,country:element.ubcountry.value,public_key:attribute.key,name:element.ubname.value,street:element.ubstreet.value,zip:element.ubzip.value,city:"",directories:attribute.directories,callback:function(t){let n=document.querySelector("#myBar");if(n&&(n.style.width=t.dirDone/t.dirTotal*100+"%"),t.dirDone>=t.dirTotal/2&&element.skipSvg.removeAttribute("disabled"),window.lastSearchData||(window.lastSearchData=t),window.lastSearchData.list||(window.lastSearchData.list=[]),window.lastSearchData.list.push(t.result),window.lastSearchData.hasOwnProperty("searchData")||(window.lastSearchData.searchData=e),1==t.dirDone){if(toggleLoadingModal(!0),element.searchQuery&&(element.searchQuery.textContent=`${t.searchData.name}, ${t.searchData.streetAndNo??t.searchData.street+" "+t.searchData.streetNo}, ${t.searchData.zip}, ${t.searchData.country}`),setParams({ubname:t.searchData.name,ubstreet:`${t.searchData.street} ${t.searchData.streetNo}`,ubzip:t.searchData.zip,ubcountry:t.searchData.country,ubcity:t.searchData.city}),element.copyLink){let e=`${window.location.href.split("?")[0]}?ubrecheckid=${t.searchData.id}&ubrechecktoken=${t.searchData.token}`;element.copyLink.setAttribute("url",e)}element.pdfExport&&(element.pdfExport.setAttribute("recheckid",t.searchData.id),element.pdfExport.setAttribute("token",t.searchData.token))}t.finished&&(window.lastSearchData=t)}};e&&(e.hasOwnProperty("ubrechecktoken")&&(t.token=e.ubrechecktoken),e.hasOwnProperty("ubrecheckid")&&(t.id=e.ubrecheckid),e.hasOwnProperty("ubcountry")&&(t.country=e.ubcountry),e.hasOwnProperty("ubzip")&&(t.zip=e.ubzip),e.hasOwnProperty("ubcity")&&(t.city=e.ubcity),e.hasOwnProperty("ubname")&&(t.name=e.ubname),e.hasOwnProperty("ubstreet")&&(t.street=e.ubstreet)),uberall.fullCheck(t).then((e=>{e.hasOwnProperty("searchData")||(e.searchData=t),processResults(e)})).catch((e=>{toggleErrorModal(e),toggleButton(!0)}))}function processResults(e=window.lastSearchData.list){if(e)if(e.lang||(e.lang="DE"),toggleLoadingModal(!1),toggleButton(!0),e.status)"INVALID_PARAMETER"==e.status?(toggleErrorModal(statusCheckMessages["normalization.error"],!0),toggleForm(!0),toggleResults(!1)):(toggleErrorModal("Fehler: "+(e.message??e.status),!0),toggleForm(!0),toggleResults(!1));else{let t={incorrect:0,correct:0,missing:0,get total(){return this.incorrect+this.correct+this.missing}},n=!1,i=null,r=window.lastSearchData.searchData,o=(document.querySelector("#result"),'<div class="portaldiv"> <a id="listingurl" target="_blank"><img draggable="false" src="" id="portal_img"> </a> <span id="portal_name">-</span> </div> <div class="infos"> <span id="name">-</span> <div id="details"> <span id="street">-, -</span> <span id="number">-</span> <a id="website" target="_blank">-/</a> </div> </div> <div class="svgdiv"><div id=timesInfo></div><svg id="times" viewbox="0 0 800 400"> <path d="M48.1,35.3h3.2c0.9,0,1.6,0.7,1.6,1.6c0,0,0,0,0,0v14c0,0.4-0.2,0.8-0.4,1.2l-9,9c-0.6,0.6-1.6,0.6-2.2,0 l-2.2-2.2c-0.6-0.6-0.6-1.6,0-2.2l7.5-7.6V37c-0.1-0.8,0.5-1.6,1.4-1.7C48,35.3,48,35.3,48.1,35.3z" /> <path d="m256 8c-137 0-248 111-248 248s111 248 248 248 248-111 248-248-111-248-248-248zm92.49 313-20 25a16 16 0 0 1 -22.49 2.5l-67-49.72a40 40 0 0 1 -15-31.23v-155.55a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v144l58 42.5a16 16 0 0 1 2.49 22.5z" /> </svg> </div> <div class="svgdiv"><svg id="photos" viewbox="0 0 700 400"> <path d="M308.1,277.95c0,35.7-28.9,64.6-64.6,64.6s-64.6-28.9-64.6-64.6s28.9-64.6,64.6-64.6S308.1,242.25,308.1,277.95z M440.3,116.05c25.8,0,46.7,20.9,46.7,46.7v122.4v103.8c0,27.5-22.3,49.8-49.8,49.8H49.8c-27.5,0-49.8-22.3-49.8-49.8v-103.9 v-122.3l0,0c0-25.8,20.9-46.7,46.7-46.7h93.4l4.4-18.6c6.7-28.8,32.4-49.2,62-49.2h74.1c29.6,0,55.3,20.4,62,49.2l4.3,18.6H440.3z M97.4,183.45c0-12.9-10.5-23.4-23.4-23.4c-13,0-23.5,10.5-23.5,23.4s10.5,23.4,23.4,23.4C86.9,206.95,97.4,196.45,97.4,183.45z M358.7,277.95c0-63.6-51.6-115.2-115.2-115.2s-115.2,51.6-115.2,115.2s51.6,115.2,115.2,115.2S358.7,341.55,358.7,277.95z" /> </svg></div>');element.resultsList&&(element.resultsList.innerHTML="");for(const a in uberall.directoryType){let s=e.filter((e=>e.response.result.directoryType===a)),l=Array.isArray(s)?s[0]:s;if(l&&"TECHNICAL_PROBLEMS"!=l.response.result.syncStatus){let e=document.createElement("div");e.id="result",e.innerHTML=o;let s=l.response.result;const c={portal_img:e.querySelector("#portal_img"),portal_name:e.querySelector("#portal_name"),listingurl:e.querySelector("#listingurl"),name:e.querySelector("#name"),number:e.querySelector("#number"),street:e.querySelector("#street"),website:e.querySelector("#website"),times:e.querySelector("#times"),photos:e.querySelector("#photos"),details:e.querySelector("#details"),timesInfo:e.querySelector("#timesInfo"),infos:e.querySelector(".infos")};let d={PRESENT:"https://static-prod.uberall.com/assets/statusCheck/present.svg",MISSING:"https://static-prod.uberall.com/assets/statusCheck/missing.svg",NOT_APPLICABLE:"https://static-prod.uberall.com/assets/statusCheck/not_available.svg"};if("undefined"!=typeof availabilityIcons)for(const e in d)availabilityIcons.hasOwnProperty(e)||(availabilityIcons[e]=d[e]),d.hasOwnProperty(e)||(d[e]=availabilityIcons[e]);if(c.portal_name&&(c.portal_name.textContent=uberall.directoryType[a].name),"SUCCESS"==l.status){if(!l.response.alreadyManaged&&!l.response.managedLocation||(l.response.alreadyManaged=!0),void 0!==l.response.result.attribution&&null!=l.response.result.attribution&&/movido|aadvanto|spectario/gi.test(l.response.result.attribution.name)&&void 0!==r){let e=l.response.result.name.replace(/[^a-z0-9]/gi,""),t=r.name.replace(/[^a-z0-9]/gi,"");(e.includes(t)||t.includes(e))&&l.response.result.zip==r.zip&&(l.response.alreadyManaged=!0)}l.response.result.attribution&&(i=l.response.result.attribution.name)}if(n||(n=l.response.alreadyManaged),n){if(c.infos){let n=`${i?i+":<br>":""}${statusCheckMessages["top.box.already.managed"]}`;c.infos.innerHTML=n,c.infos.classList.add("managed"),e.classList.add("managed"),e.querySelectorAll(".svgdiv").forEach((e=>{e.remove()}));let r=e.querySelector("#portal_img");r&&(r.src="https://static-prod.uberall.com/assets/statusCheck/safeguard_active.svg"),document.querySelectorAll("#result").forEach((e=>{let i=e.querySelector(".infos"),r=e.querySelector("#portal_img");r&&(r.src="https://static-prod.uberall.com/assets/statusCheck/safeguard_active.svg"),i.innerHTML=n,i.classList.add("managed"),e.classList.add("managed"),e.querySelectorAll(".svgdiv").forEach((e=>{e.remove()})),t.correct=100,t.incorrect=0,t.missing=0}))}}else{if(c.portal_img&&(c.portal_img.src=l.html.logo),c.times&&(/svg/i.test(c.times.tagName)?c.times.classList.add(CLASSNAME[s.openingHoursStatus]??""):c.times.src=d[s.openingHoursStatus],"PRESENT"==s.openingHoursStatus&&s.openingHours.length>0)){c.times.addEventListener("mouseenter",(function(e){c.timesInfo.style.display="flex"})),c.times.addEventListener("mouseleave",(function(e){fadeOut(c.timesInfo)}));let e=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],t=c.timesInfo;for(let n=0;n<7;n++){let i=s.openingHours.filter((e=>e.dayOfWeek==n+1&&!e.hasOwnProperty("closed"))),r=`<b>${e[n]}:</b> Geschlossen`,o=CLASSNAME.MISSING;i.length>0&&(o=CLASSNAME.PRESENT,r=`<b>${e[n]}:</b> ${i[0].from1} - ${i[0].to1}`,i[0].hasOwnProperty("from2")&&i[0].hasOwnProperty("to2")&&(r+=` | ${i[0].from2} - ${i[0].to2}`));let a=`<div id="timeLine">\n\t\t\t\t\t\t\t\t\t\t<svg class="${o}" style=width:20px;height:20px; viewBox="0 0 490 490"><path d="M245 0C109.5 0 0 109.5 0 245s109.5 245 245 245 245-109.5 245-245S380.5 0 245 0zm0 449.3c-112.6 0-204.3-91.7-204.3-204.3S132.4 40.7 245 40.7 449.3 132.4 449.3 245 357.6 449.3 245 449.3z"/><path d="M290.9 224.1h-25v-95.9c0-11.5-9.4-20.9-20.9-20.9s-20.9 9.4-20.9 20.9V245c0 11.5 9.4 20.9 20.9 20.9h45.9c11.5 0 20.9-9.4 20.9-20.9s-9.5-20.9-20.9-20.9z"/></svg>\n\t\t\t\t\t\t\t\t\t\t<span>${r}</span>\n\t\t\t\t\t\t\t\t\t</div>`;t.innerHTML+=a}}if(c.photos&&(/svg/i.test(c.photos.tagName)?c.photos.classList.add(CLASSNAME[s.photosStatus]??""):c.photos.src=d[s.photosStatus]),s.name){if(c.listingurl&&(c.listingurl.href=s.listingUrl),c.name&&(c.name.innerHTML=`<span class="${"MISMATCH"==s.nameStatus?CLASSNAME.MISMATCH:""}">${s.name}</span>`),c.street){let e;switch(s.streetAndNoStatus){case"MISSING":e=`<span class="${CLASSNAME.MISSING}">${statusCheckMessages["address.fields.missing"]}</span>`;break;case"MISMATCH":e=`<span class="${CLASSNAME.MISMATCH}">${s.streetAndNo}</span>`;break;case"MATCH":case"PRESENT":e=s.streetAndNo;break;default:e="-"}if(s.city)switch(e+=", ",s.cityStatus){case"MISSING":e+=`<span class="${CLASSNAME.MISSING}">${statusCheckMessages["city.error"]}</span>`;break;case"MISMATCH":e+=`<span class="${CLASSNAME.MISMATCH}">${s.city}</span>`;break;case"MATCH":case"PRESENT":e+=s.city}c.street.innerHTML=e}if(c.number){let e="";switch(s.phoneStatus){case"MISSING":e=`<span class="${CLASSNAME.MISSING}">${statusCheckMessages["phone.missing"]}</span>`;break;case"MISMATCH":e=`<span class="${CLASSNAME.MISMATCH}">${s.phone}</span>`;break;case"MATCH":case"PRESENT":e=`<span class="${CLASSNAME.PRESENT}">${s.phone}</span>`;break;case"NOT_APPLICABLE":e=`<span class="${CLASSNAME.NOT_APPLICABLE}">${statusCheckMessages["phone.not.applicable"]}</span>`}c.number.innerHTML=e}if(c.website){let e="";switch(s.websiteStatus){case"MISSING":e=`<span class="${CLASSNAME.MISSING}">${statusCheckMessages["website.missing"]}</span>`;break;case"MISMATCH":e=`<span class="${CLASSNAME.MISMATCH}">${s.website}</span>`;break;case"MATCH":case"PRESENT":e=`<span class="${CLASSNAME.PRESENT}">${s.website}</span>`;break;case"NOT_APPLICABLE":e=`<span class="${CLASSNAME.NOT_APPLICABLE}">${statusCheckMessages["website.not.applicable"]}</span>`}c.website.innerHTML=e}s.website&&(c.website.href=s.website),"MATCH"==s.nameStatus&&"MATCH"==s.streetAndNoStatus&&"MISMATCH"!=s.cityStatus&&"MISSING"!=s.cityStatus&&"MISSING"!=s.openingHoursStatus&&"MISSING"!=s.photosStatus&&"MISSING"!=s.websiteStatus&&"MISSING"!=s.phoneStatus?t.correct++:t.incorrect++}else t.missing++,c.name&&(c.name.innerHTML=`<span class="${CLASSNAME.MISSING}">${statusCheckMessages["listing.not.found"]}</span>`),c.times&&(c.times.style.display="none"),c.photos&&(c.photos.style.display="none"),c.details&&("boolean"==typeof DESCRIPTION_FOR_MISSING_PORTALS&&1==DESCRIPTION_FOR_MISSING_PORTALS&&uberall.directoryType[a].description?(c.details.classList.add("description"),c.details.innerHTML=uberall.directoryType[a].description):(c.details.innerHTML="",c.details.remove())),e.classList.add("noentry")}element.resultsList.append(e);let u=document.querySelector("#totalPortals");u&&(u.innerHTML=element.resultsList.childElementCount)}}toggleForm(!1),toggleResults(!0),actualizeChart(t.missing,t.incorrect,t.correct)}else toggleErrorModal("No data",!0),toggleForm(!0),toggleResults(!1)}function removeParams(){let e=window.location.href.split("?")[0];window.history.replaceState({},document.title,e)}function getParams(){const e=window.location.search,t={};if(e){e.substring(1).split("&").forEach((e=>{const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}))}return t}function setParams({ubrecheckid:e,ubrechecktoken:t,ubname:n,ubstreet:i,ubzip:r,ubcountry:o,ubcity:a}){removeParams();let s=window.location.href,l={};e&&t?(l.ubrecheckid=e,l.ubrechecktoken=t):n&&i&&r&&o&&(l.autostart=!0,l.ubcountry=o,l.ubname=n,l.ubstreet=i,l.ubzip=r,l.ubcity=a??"");const c=Object.keys(l).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`)).join("&");s.includes("?")?s+=`&${c}`:s+=`?${c}`,removeParams(),window.history.replaceState({},"",s)}function getElements(e){return element={widget:document.querySelector("div.ub_status_check_widget")??document.querySelector("#ubwrap"),header:e.querySelector("#header"),headertext:e.querySelector("#headertext"),queryInfo:e.querySelector("#queryInfo"),bottominfo:e.querySelector("#bottominfo"),button:e.querySelector("button#ubsend"),form:e.querySelector("#ubformfield"),ubname:e.querySelector("input#ubname"),ubstreet:e.querySelector("input#ubstreet"),ubzip:e.querySelector("input#ubzip"),ubcountry:e.querySelector("select#ubcountry"),allTexts:e.querySelectorAll("p,h1,h2,h3,h4,h5,h6,span,input,select"),allLinks:e.querySelectorAll("a"),ctabutton:document.querySelector("#ctabutton"),ctatext:e.querySelector("#ctatext"),ctalink:e.querySelector("a#ctalink"),graphInfo:e.querySelector("#graphInfo"),graph:e.querySelector("#ubgraph"),ubgridwrap:e.querySelector("#ubgridwrap"),directoryGrid:e.querySelector("#ubgrid"),ubtable:e.querySelector("#ubtable"),topinfo:document.querySelector("#topinfo"),searchQuery:document.querySelector("#searchQuery"),queryLine:document.querySelector("#queryLine"),resultsList:document.querySelector("#resultsList"),result:document.querySelector("#result"),skipSvg:document.querySelector("#skipSvg"),predictionInput:document.querySelector("#prediction"),predictionList:document.querySelector("#predictionList"),copyLink:document.querySelector("#copyLink"),pdfExport:document.querySelector("#pdfExport"),qualityText:document.querySelector("#qualityText"),queryCaptionText:document.querySelector("#queryCaptionText"),resultsListText:document.querySelector("#resultsListText"),ubgridcaption:document.querySelector("#ubgridcaption"),emodal:document.querySelector(".emodal"),lmodal:document.querySelector(".modal"),tableheader:document.querySelector(".table-header")}}function toggleErrorModal(e="Die eingegebene Adresse konnte leider nicht gefunden werden. Bitte √ºberpr√ºfen Sie Ihre Angaben.",t=void 0){console.log("ERROR MODAL TOGGLE");let n=document.querySelector('div[class="error"]'),i=n.querySelector("p");if(n){const r=window.getComputedStyle(n).getPropertyValue("display");i.innerHTML=e,null==t&&(t="none"==r),toggleFlatBack(t),toggleButton(!t),n.style.display=1==t?"flex":"none"}}function toggleFlatBack(e=void 0){let t=document.querySelector('div[class="flatback"]');if(t){const n=window.getComputedStyle(t).getPropertyValue("display");t.style.display=null==e?"none"==n?"flex":"none":1==e?"flex":"none"}}function toggleLoadingModal(e=void 0){let t=document.querySelector('div[class="loading"]');if(t){const n=window.getComputedStyle(t).getPropertyValue("display");null==e&&(e="none"==n),toggleFlatBack(e),t.style.display=1==e?"flex":"none"}}function toggleResults(e=void 0){if(element.queryInfo&&element.header&&element.bottominfo){const t=window.getComputedStyle(element.header).getPropertyValue("display");null==e&&(e="none"==t),e?(element.header.style.display="none",element.bottominfo.style.display="flex",element.queryInfo.style.display="flex",element.bottominfo.style.visibility="visible",element.ubgridwrap.style.display="none",element.topinfo&&attribute.hasOwnProperty("showtopinfo")&&"true"!=attribute.showtopinfo&&(element.topinfo.style.display="none"),actualizeDirectoryGrid(!1)):(element.header.style.display="flex",element.bottominfo.style.display="none",element.queryInfo.style.display="none",element.bottominfo.style.visibility="hidden",element.ubgridwrap.style.display="flex",element.topinfo&&element.topinfo.style.removeProperty("display"),actualizeDirectoryGrid(!0))}}function actualizeDirectoryGrid(e=void 0,t=void 0,n=attribute.directories){if(element.ubgridwrap&&element.directoryGrid){if(element.directoryGrid.innerHTML="",element.ubgridwrap.style.display="none",void 0===e&&element.bottominfo){e="none"==getComputedStyle(element.bottominfo).display}if("string"==typeof n&&(n=n.split(",")),e&&(!attribute.hasOwnProperty("showdirectorygrid")||"false"!=attribute.showdirectorygrid)){t||(t=element.ubcountry?element.ubcountry.value:"DE"),t=t.toLowerCase(),n&&n.length||(n=Object.keys(uberall.directoryType));for(const e of n)if(element.ubgridwrap.style.display="flex",uberall.directoryType[e].countries.includes(t)){let t=document.createElement("div");t.className="gridEntry",t.innerHTML=`<img draggable="false" class="gridEntryLogo" src="${uberall.directoryType[e].logo}"><span class="gridEntryName">${uberall.directoryType[e].name}</span>`,element.directoryGrid.appendChild(t)}}}}function getWidgetAttributes(e){attribute={};for(const t of e.attributes)if(/^data-/i.test(t.name)){let e=t.value;e.length>0&&(/^(true|false)$/i.test(e)&&(e="true"==e),attribute[t.name.replace("data-","")]=t.value)}return attribute}function toggleButton(e=void 0){if(element.button)if(element.button.getAttribute("disabled")||e)element.button.innerHTML="TESTEN",element.button.removeAttribute("disabled"),element.ubcountry.removeAttribute("disabled"),element.ubname.removeAttribute("disabled"),element.ubstreet.removeAttribute("disabled"),element.ubzip.removeAttribute("disabled"),element.form.removeAttribute("disabled"),element.predictionInput.removeAttribute("disabled");else if(!element.button.getAttribute("disabled")||!1===e){const e="https://static.wixstatic.com/media/52c20f_597105a39da247c49701e2cd585687d3~mv2.gif";element.button.innerHTML=`<img title="loading" draggable="false" src="${e}" height="40px" >`,element.button.setAttribute("disabled",!0),element.ubcountry.setAttribute("disabled",!0),element.ubname.setAttribute("disabled",!0),element.ubstreet.setAttribute("disabled",!0),element.ubzip.setAttribute("disabled",!0),element.form.setAttribute("disabled",!0),element.predictionInput.setAttribute("disabled",!0)}}function toggleForm(e=void 0){let t=document.querySelector("#ubformfield"),n=document.querySelector('a[class="ubsc_change-search-data"]');if(t){const i=window.getComputedStyle(t).getPropertyValue("display");null==e&&(e="none"==i),e?(n&&(n.querySelector("span").textContent="schlie√üen"),t.style.display="flex"):(n&&(n.querySelector("span").textContent="STANDORT √ÑNDERN"),fadeOut(t))}}function fadeOut(e,t=10){if(e){let n=t,i=setInterval((()=>{n--,e.style.opacity=n/t,n||(e.style.display="none",e.style.opacity=1,clearInterval(i))}),20)}}function fadeIn(e,t=10){if(e){let n=0,i=setInterval((()=>{n++,e.style.opacity=n/t,n||(e.style.display="initial",e.style.opacity=1,clearInterval(i))}),20)}}function actualizeChart(e=1,t=1,n=1){if(element.graphInfo)if(attribute.hasOwnProperty("showgraph")&&"true"!=attribute.showgraph)element.graphInfo.style.display="none";else{element.graphInfo.style.display="flex";let i=element.graph.querySelector("canvas");if(!i)return null;let r=i.getContext("2d");"undefined"==typeof chart&&"undefined"!=typeof Chart&&(chart=new Chart(r,{type:"doughnut",data:{labels:["0% Falsch","0% Fehlen","0% Korrekt"],datasets:[{label:"",data:[5,5,5],backgroundColor:["rgb(251,176,54)","rgb(232,99,99)","rgb(99,166,99)"],borderColor:"#ffffff88"}]},plugins:[],options:{plugins:{legend:{position:"left",labels:{usePointStyle:!0,boxWidth:30,padding:10,font:{size:14}}}},scales:{}}}),i.style.width="300",i.style.height="300");let o=t+e+n,a={correct:(100/o*n).toFixed(0),missing:(100/o*e).toFixed(0),incorrect:(100/o*t).toFixed(0)},s={labels:[`${a.incorrect}% Falsch`,`${a.missing}% Fehlen`,`${a.correct}% Korrekt`],datasets:[{label:"",data:[t,e,n],backgroundColor:["rgb(251,176,54)","rgb(232,99,99)","rgb(99,166,99)"],borderColor:"#ffffff88"}]};"undefined"!=typeof chart&&(console.log("chart update",chart),chart.data=s,chart.update())}}window.onload=e=>{loadWidget()};