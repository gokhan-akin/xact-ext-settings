var attribute={},element={},predictionTimer=null;let CLASSNAME={MISMATCH:"mismatch",MISSING:"missing",MATCH:"match",PRESENT:"present",NOT_APPLICABLE:"not_applicable"},LANG={NO_ENTRY:{DE:"Eintrag nicht gefunden",EN:"Entry not found"},HEADERTEXT:{DE:"Ihr Auffindbarkeits-Ergebnis",EN:"Check Your Online-Presence"},MISSING:{DE:"Fehlen",EN:"Missing"},MISMATCH:{DE:"Falsch",EN:"Incorrect"},MATCH:{DE:"Korrekt",EN:"Correct"},MISSING_ADDRESS:{DE:"keine Adresse",EN:"no address"},MISSING_NUMBER:{DE:"keine Telefonnummer",EN:"no phone number"},MISSING_WEBSITE:{DE:"keine Webseite",EN:"no website"},MISSING_CITY:{DE:"keine Ortsangabe",EN:"no city provided"},QUERYCAPTION:{DE:"Ihr Auffindbarkeits-Ergebnis für",EN:"Your Online-Presence results for"},RESULTSLISTTEXT:{DE:"Ergebnisliste",EN:"Results"},DETAILCAPTIONTEXT:{DE:"Detailansicht zur Qualität Ihrer Firmeneinträge im Internet",EN:"Detailed view of the quality of your company listings on the Internet"},QUALITYTEXT:{DE:'Qualität Ihrer derzeit online auffindbaren Firmendaten, erfolgreich gesucht in <span id="totalPortals">{{TOTAL}}</span> Verzeichnissen:',EN:""},HEADERTEXT:{DE:"Testen sie jetzt ihre Auffindbarkeit",EN:"Check Your Online-Presence"}};function fetchPredictions(e){(new google.maps.places.AutocompleteService).getPlacePredictions({input:e},displayPredictions)}function predictionOnClick(e,t,n,i,r){element.ubname&&element.ubstreet&&element.ubzip&&element.ubcountry&&(element.ubname.value=t,element.ubstreet.value=n,element.ubzip.value=i,element.ubcountry.value=r)}function getComponent(e,t,n=!1){return n?e.find((e=>e.types.includes(t)))?.short_name||"":e.find((e=>e.types.includes(t)))?.long_name||""}function displayPredictions(e,t){if(element.predictionList.innerHTML="",t!==google.maps.places.PlacesServiceStatus.OK||!e)return;const n=new google.maps.places.PlacesService(document.createElement("div"));e.forEach((e=>{n.getDetails({placeId:e.place_id,fields:["name","address_components"]},(function(t,n){if(n===google.maps.places.PlacesServiceStatus.OK){const n=document.createElement("div");n.id="predictionEntry";const i=t.address_components,r=getComponent(i,"street_number"),o=getComponent(i,"route")+(r&&r.length?" "+r:""),s=getComponent(i,"postal_code"),a=getComponent(i,"country",!0),l=t.name;let u=`${l}, ${o}, ${a}-${s}`;e.matched_substrings.forEach((t=>{let n=e.description.substr(t.offset,t.length),i=u.toLowerCase().indexOf(n.toLowerCase());i>-1&&(u=u.substring(0,i)+"<b>"+u.substring(i,i+t.length)+"</b>"+u.substring(i+n.length))})),n.innerHTML=u,n.addEventListener("click",(function(e){predictionOnClick(e,l,o,s,a)})),element.predictionList.appendChild(n)}}))}))}async function initParams(){let e=getParams();if(e.ubrecheckid&&e.ubrechecktoken){let t=await uberall.getRecheckInfo({recheckid:e.ubrecheckid,rechecktoken:e.ubrechecktoken});t&&(e.ubname=t.name,e.ubstreet=`${t.street} ${t.streetNo}`,e.ubzip=t.zip,e.ubcountry=t.country,e.ubcity=t.city)}element.ubname&&element.ubstreet&&element.ubzip&&element.ubcountry&&(element.ubcountry.value=e.ubcountry??"DE",element.ubname.value=e.ubname??"",element.ubstreet.value=e.ubstreet??"",element.ubzip.value=e.ubzip??""),(e.ubrecheckid&&e.ubrechecktoken||"true"==e.autostart)&&searchInit(e)}function searchInit(e=null){delete window.lastSearchData,toggleButton(!1),toggleResults(!1);let t={infoTextSize:14,boolTickSize:18,directoryLogoSize:32,country:element.ubcountry.value,public_key:attribute.key,name:element.ubname.value,street:element.ubstreet.value,zip:element.ubzip.value,city:"",callback:function(e){let t=document.querySelector("#myBar");if(t&&(t.style.width=e.dirDone/e.dirTotal*100+"%"),e.dirDone>15&&element.skipSvg.removeAttribute("disabled"),window.lastSearchData||(window.lastSearchData=e),window.lastSearchData.list||(window.lastSearchData.list=[]),window.lastSearchData.list.push(e.result),1==e.dirDone){toggleLoadingModal(!0),element.searchQuery&&(element.searchQuery.textContent=`${e.searchData.name},${e.searchData.streetAndNo??e.searchData.street+" "+e.searchData.streetNo},${e.searchData.zip}`),setParams({ubname:e.searchData.name,ubstreet:`${e.searchData.street} ${e.searchData.streetNo}`,ubzip:e.searchData.zip,ubcountry:e.searchData.country,ubcity:e.searchData.city});let t=document.getElementById("ubsc_share-result-link");if(t){let n=window.location.href.split("?")[0];t.setAttribute("url",`${n}?ubrecheckid=${e.searchData.id}&ubrechecktoken=${e.searchData.token}`)}}e.finished&&(window.lastSearchData=e,console.log("Data finished:",e))}};e&&(e.hasOwnProperty("ubrechecktoken")&&(t.token=e.ubrechecktoken),e.hasOwnProperty("ubrecheckid")&&(t.id=e.ubrecheckid),e.hasOwnProperty("ubcountry")&&(t.country=e.ubcountry),e.hasOwnProperty("ubzip")&&(t.zip=e.ubzip),e.hasOwnProperty("ubcity")&&(t.city=e.ubcity),e.hasOwnProperty("ubname")&&(t.name=e.ubname),e.hasOwnProperty("ubstreet")&&(t.street=e.ubstreet)),uberall.fullCheck(t).then((e=>{processResults(e)})).catch((e=>{toggleErrorModal(e),toggleButton(!0)}))}function processResults(e=window.lastSearchData.list){if(e)if(e.lang||(e.lang="DE"),toggleLoadingModal(!1),toggleButton(!0),e.status)"INVALID_PARAMETER"==e.status?(toggleErrorModal("Die eingegebene Adresse konnte leider nicht gefunden werden.<br>Bitte überprüfen Sie Ihre Angaben.",!0),toggleButton(!0)):(toggleErrorModal("Fehler: "+(e.message??e.status),!0),toggleButton(!0));else{let t={incorrect:0,correct:0,missing:0,get total(){return this.incorrect+this.correct+this.missing}},n=(document.querySelector("#result"),'<div class="portaldiv"> <a id="listingurl"><img draggable="false" src="" id="portal_img"> </a> <span id="portal_name">-</span> </div> <div class="infos"> <span id="name">-</span> <div id="details"> <span id="street">-, -</span> <span id="number">-</span> <a id="website">-/</a> </div> </div> <div class="svgdiv"><div id=timesInfo></div><svg id="times" viewbox="0 0 800 400"> <path d="M48.1,35.3h3.2c0.9,0,1.6,0.7,1.6,1.6c0,0,0,0,0,0v14c0,0.4-0.2,0.8-0.4,1.2l-9,9c-0.6,0.6-1.6,0.6-2.2,0 l-2.2-2.2c-0.6-0.6-0.6-1.6,0-2.2l7.5-7.6V37c-0.1-0.8,0.5-1.6,1.4-1.7C48,35.3,48,35.3,48.1,35.3z" /> <path d="m256 8c-137 0-248 111-248 248s111 248 248 248 248-111 248-248-111-248-248-248zm92.49 313-20 25a16 16 0 0 1 -22.49 2.5l-67-49.72a40 40 0 0 1 -15-31.23v-155.55a16 16 0 0 1 16-16h32a16 16 0 0 1 16 16v144l58 42.5a16 16 0 0 1 2.49 22.5z" /> </svg> </div> <div class="svgdiv"><svg id="photos" viewbox="0 0 700 400"> <path d="M308.1,277.95c0,35.7-28.9,64.6-64.6,64.6s-64.6-28.9-64.6-64.6s28.9-64.6,64.6-64.6S308.1,242.25,308.1,277.95z M440.3,116.05c25.8,0,46.7,20.9,46.7,46.7v122.4v103.8c0,27.5-22.3,49.8-49.8,49.8H49.8c-27.5,0-49.8-22.3-49.8-49.8v-103.9 v-122.3l0,0c0-25.8,20.9-46.7,46.7-46.7h93.4l4.4-18.6c6.7-28.8,32.4-49.2,62-49.2h74.1c29.6,0,55.3,20.4,62,49.2l4.3,18.6H440.3z M97.4,183.45c0-12.9-10.5-23.4-23.4-23.4c-13,0-23.5,10.5-23.5,23.4s10.5,23.4,23.4,23.4C86.9,206.95,97.4,196.45,97.4,183.45z M358.7,277.95c0-63.6-51.6-115.2-115.2-115.2s-115.2,51.6-115.2,115.2s51.6,115.2,115.2,115.2S358.7,341.55,358.7,277.95z" /> </svg></div>');element.resultsList&&(element.resultsList.innerHTML="");for(const i in uberall.directoryType){let r=e.filter((e=>e.response.result.directoryType===i)),o=Array.isArray(r)?r[0]:r;if(o&&"TECHNICAL_PROBLEMS"!=o.response.result.syncStatus){let r=document.createElement("div");r.id="result",r.innerHTML=n;let s=o.response.result;const a={portal_img:r.querySelector("#portal_img"),portal_name:r.querySelector("#portal_name"),listingurl:r.querySelector("#listingurl"),name:r.querySelector("#name"),number:r.querySelector("#number"),street:r.querySelector("#street"),website:r.querySelector("#website"),times:r.querySelector("#times"),photos:r.querySelector("#photos"),details:r.querySelector("#details"),timesInfo:r.querySelector("#timesInfo")};let l={PRESENT:"https://static-prod.uberall.com/assets/statusCheck/present.svg",MISSING:"https://static-prod.uberall.com/assets/statusCheck/missing.svg",NOT_APPLICABLE:"https://static-prod.uberall.com/assets/statusCheck/not_available.svg"};if("undefined"!=typeof availabilityIcons)for(const e in l)availabilityIcons.hasOwnProperty(e)||(availabilityIcons[e]=l[e]),l.hasOwnProperty(e)||(l[e]=availabilityIcons[e]);if(a.portal_img&&(a.portal_img.src=o.html.logo),a.portal_name&&(a.portal_name.textContent=uberall.directoryType[i].name),a.times&&(console.log("tagname:",a.times.tagName),/svg/i.test(a.times.tagName)?a.times.classList.add(CLASSNAME[s.openingHoursStatus]??""):a.times.src=l[s.openingHoursStatus],"PRESENT"==s.openingHoursStatus&&s.openingHours.length>0)){a.times.addEventListener("mouseenter",(function(e){a.timesInfo.style.display="flex"})),a.times.addEventListener("mouseleave",(function(e){fadeOut(a.timesInfo)}));let e=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],t=a.timesInfo;for(let n=0;n<7;n++){let i=s.openingHours.filter((e=>e.dayOfWeek==n+1&&!e.hasOwnProperty("closed"))),r=`<b>${e[n]}:</b> Geschlossen`,o=CLASSNAME.MISSING;i.length>0&&(o=CLASSNAME.PRESENT,r=`<b>${e[n]}:</b> ${i[0].from1} - ${i[0].to1}`,i[0].hasOwnProperty("from2")&&i[0].hasOwnProperty("to2")&&(r+=` | ${i[0].from2} - ${i[0].to2}`));let a=`<div id="timeLine">\n\t\t\t\t\t\t\t\t\t\t<svg class="${o}" style=width:20px;height:20px; viewBox="0 0 490 490"><path d="M245 0C109.5 0 0 109.5 0 245s109.5 245 245 245 245-109.5 245-245S380.5 0 245 0zm0 449.3c-112.6 0-204.3-91.7-204.3-204.3S132.4 40.7 245 40.7 449.3 132.4 449.3 245 357.6 449.3 245 449.3z"/><path d="M290.9 224.1h-25v-95.9c0-11.5-9.4-20.9-20.9-20.9s-20.9 9.4-20.9 20.9V245c0 11.5 9.4 20.9 20.9 20.9h45.9c11.5 0 20.9-9.4 20.9-20.9s-9.5-20.9-20.9-20.9z"/></svg>\n\t\t\t\t\t\t\t\t\t\t<span>${r}</span>\n\t\t\t\t\t\t\t\t\t</div>`;t.innerHTML+=a}}if(a.photos&&(/svg/i.test(a.photos.tagName)?a.photos.classList.add(CLASSNAME[s.photosStatus]??""):a.photos.src=l[s.photosStatus]),s.name){if(a.listingurl&&(a.listingurl.href=s.listingUrl),a.name&&(a.name.innerHTML=`<span class="${"MISMATCH"==s.nameStatus?CLASSNAME.MISMATCH:""}">${s.name}</span>`),a.street){let t;switch(s.streetAndNoStatus){case"MISSING":t=`<span class="${CLASSNAME.MISSING}">${LANG.MISSING_ADDRESS[e.lang]}</span>`;break;case"MISMATCH":t=`<span class="${CLASSNAME.MISMATCH}">${s.streetAndNo}</span>`;break;case"MATCH":case"PRESENT":t=s.streetAndNo;break;default:t="-"}if(s.city)switch(t+=", ",s.cityStatus){case"MISSING":t+=`<span class="${CLASSNAME.MISSING}">${LANG.MISSING_CITY[e.lang]}</span>`;break;case"MISMATCH":t+=`<span class="${CLASSNAME.MISMATCH}">${s.city}</span>`;break;case"MATCH":case"PRESENT":t+=s.city}a.street.innerHTML=t}a.number&&(a.number.innerHTML=null==s.phone?`<span class="${CLASSNAME.MISSING}">${LANG.MISSING_NUMBER[e.lang]}</span>`:"PRESENT"==s.phoneStatus?`<span class="${CLASSNAME.PRESENT}">${s.phone}</span>`:`<span class="${CLASSNAME.MISMATCH}">${s.phone}</span>`),a.website&&(a.website.innerHTML=null==s.website?`<span class="${CLASSNAME.MISSING}">${LANG.MISSING_WEBSITE[e.lang]}</span>`:`<span class="${CLASSNAME.PRESENT}">${s.website}</span>`),s.website&&(a.website.href=s.website),"MATCH"==s.nameStatus&&"MATCH"==s.streetAndNoStatus&&"MISMATCH"!=s.cityStatus&&"MISSING"!=s.cityStatus&&"MISSING"!=s.openingHoursStatus&&"MISSING"!=s.photosStatus?t.correct++:t.incorrect++}else t.missing++,a.name&&(a.name.innerHTML=`<span class="${CLASSNAME.MISSING}">${LANG.NO_ENTRY[e.lang]}</span>`),a.times&&(a.times.style.display="none"),a.photos&&(a.photos.style.display="none"),a.details&&("boolean"==typeof DESCRIPTION_FOR_MISSING_PORTALS&&1==DESCRIPTION_FOR_MISSING_PORTALS&&uberall.directoryType[i].description?(a.details.classList.add("description"),a.details.innerHTML=uberall.directoryType[i].description):(a.details.innerHTML="",a.details.remove())),r.classList.add("noentry");element.resultsList.append(r);let u=document.querySelector("#totalPortals");u&&(u.innerHTML=element.resultsList.childElementCount),actualizeChart(t.missing,t.incorrect,t.correct)}}toggleForm(!1),toggleResults(!0)}else toggleErrorModal("No data",!0),toggleButton(!0)}function removeParams(){let e=window.location.href.split("?")[0];window.history.replaceState({},document.title,e)}function getParams(){const e=window.location.search,t={};if(e){e.substring(1).split("&").forEach((e=>{const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}))}return t}function setParams({ubrecheckid:e,ubrechecktoken:t,ubname:n,ubstreet:i,ubzip:r,ubcountry:o,ubcity:s}){removeParams();let a=window.location.href,l={};e&&t?(l.ubrecheckid=e,l.ubrechecktoken=t):n&&i&&r&&o&&(l.autostart=!0,l.ubcountry=o,l.ubname=n,l.ubstreet=i,l.ubzip=r,l.ubcity=s??"");const u=Object.keys(l).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(l[e])}`)).join("&");a.includes("?")?a+=`&${u}`:a+=`?${u}`,removeParams(),window.history.replaceState({},"",a)}function getElements(e){return element={header:e.querySelector("#header"),headertext:e.querySelector("#headertext"),queryInfo:e.querySelector("#queryInfo"),bottominfo:e.querySelector("#bottominfo"),button:e.querySelector("button#ubsend"),form:e.querySelector("#ubformfield"),ubname:e.querySelector("input#ubname"),ubstreet:e.querySelector("input#ubstreet"),ubzip:e.querySelector("input#ubzip"),ubcountry:e.querySelector("select#ubcountry"),allTexts:e.querySelectorAll("p,h1,h2,h3,h4,h5,h6,span,input,select"),allLinks:e.querySelectorAll("a"),ctabutton:document.querySelector("#ctabutton"),ctatext:e.querySelector("#ctatext"),ctalink:e.querySelector("a#ctalink"),graphInfo:e.querySelector("#graphInfo"),graph:e.querySelector("#ubgraph"),directoryGridWrap:e.querySelector("#ubgridwrap"),directoryGrid:e.querySelector("#ubgrid"),ubtable:e.querySelector("#ubtable"),topinfo:document.querySelector("#topinfo"),searchQuery:document.querySelector("#searchQuery"),resultsList:document.querySelector("#resultsList"),result:document.querySelector("#result"),skipSvg:document.querySelector("#skipSvg"),predictionInput:document.querySelector("#prediction"),predictionList:document.querySelector("#predictionList"),emodal:document.querySelector(".emodal"),lmodal:document.querySelector(".modal"),tableheader:document.querySelector(".table-header"),pdfexport:document.querySelector('div[class="ubsc_pdf-export-wrapper"]'),sharelink:document.querySelector('a[id="ubsc_share-result-link"][class="ubsc_share-result"]')}}function toggleErrorModal(e="Die eingegebene Adresse konnte leider nicht gefunden werden. Bitte überprüfen Sie Ihre Angaben.",t=void 0){console.log("ERROR MODAL TOGGLE");let n=document.querySelector('div[class="error"]'),i=n.querySelector("p");if(n){const r=window.getComputedStyle(n).getPropertyValue("display");i.innerHTML=e,null==t&&(t="none"==r),toggleFlatBack(t),toggleButton(t),n.style.display=1==t?"flex":"none"}}function toggleFlatBack(e=void 0){let t=document.querySelector('div[class="flatback"]');if(t){const n=window.getComputedStyle(t).getPropertyValue("display");t.style.display=null==e?"none"==n?"flex":"none":1==e?"flex":"none"}}function toggleLoadingModal(e=void 0){let t=document.querySelector('div[class="loading"]');if(t){const n=window.getComputedStyle(t).getPropertyValue("display");null==e&&(e="none"==n),toggleFlatBack(e),t.style.display=1==e?"flex":"none"}}function toggleResults(e=void 0){if(element.queryInfo&&element.header&&element.bottominfo){const t=window.getComputedStyle(element.header).getPropertyValue("display");null==e&&(e="none"==t),e?(element.header.style.display="none",element.bottominfo.style.display="flex",element.queryInfo.style.display="flex",element.topinfo&&attribute.hasOwnProperty("showtopinfo")&&"true"!=attribute.showtopinfo&&(element.topinfo.style.display="none"),actualizeDirectoryGrid(!1)):(element.header.style.display="flex",element.bottominfo.style.display="none",element.queryInfo.style.display="none",element.topinfo&&element.topinfo.style.removeProperty("display"),actualizeDirectoryGrid(!0))}}function actualizeDirectoryGrid(e=!0,t=null){if(element.directoryGridWrap&&element.directoryGrid&&(element.directoryGrid.innerHTML="",element.directoryGridWrap.style.display="none",e&&(!attribute.hasOwnProperty("showdirectorygrid")||"false"!=attribute.showdirectorygrid))){t||(t=element.ubcountry?element.ubcountry.value:"DE"),t=t.toLowerCase();for(const e in uberall.directoryType)if(element.directoryGridWrap.style.display="flex",uberall.directoryType[e].countries.includes(t)){let t=document.createElement("div");t.className="gridEntry",t.innerHTML=`<img draggable="false" class="gridEntryLogo" src="${uberall.directoryType[e].logo}"><span class="gridEntryName">${uberall.directoryType[e].name}</span>`,element.directoryGrid.appendChild(t)}}}function getElementAttributes(e){attribute={};for(const t of e.attributes)if(/^data-/i.test(t.name)){let e=t.value;e.length>0&&(/^(true|false)$/i.test(e)&&(e="true"==e),attribute[t.name.replace("data-","")]=t.value)}return attribute}function toggleButton(e=void 0){if(element.button)if(element.button.getAttribute("disabled")||e)element.button.innerHTML="TESTEN",element.button.removeAttribute("disabled"),element.ubcountry.removeAttribute("disabled"),element.ubname.removeAttribute("disabled"),element.ubstreet.removeAttribute("disabled"),element.ubzip.removeAttribute("disabled"),element.form.removeAttribute("disabled");else if(!element.button.getAttribute("disabled")||!1===e){const e="https://static.wixstatic.com/media/52c20f_597105a39da247c49701e2cd585687d3~mv2.gif";element.button.innerHTML=`<img title="loading" draggable="false" src="${e}" height="40px" >`,element.button.setAttribute("disabled",!0),element.ubcountry.setAttribute("disabled",!0),element.ubname.setAttribute("disabled",!0),element.ubstreet.setAttribute("disabled",!0),element.ubzip.setAttribute("disabled",!0),element.form.setAttribute("disabled",!0)}}function toggleForm(e=void 0){let t=document.querySelector("#ubformfield"),n=document.querySelector('a[class="ubsc_change-search-data"]');if(t){const i=window.getComputedStyle(t).getPropertyValue("display");null==e&&(e="none"==i),e?(n&&(n.querySelector("span").textContent="schließen"),t.style.display="flex"):(n&&(n.querySelector("span").textContent="STANDORT ÄNDERN"),fadeOut(t))}}function fadeOut(e,t=10){if(e){let n=t,i=setInterval((()=>{n--,e.style.opacity=n/t,n||(e.style.display="none",e.style.opacity=1,clearInterval(i))}),20)}}function fadeIn(e,t=10){if(e){let n=0,i=setInterval((()=>{n++,e.style.opacity=n/t,n||(e.style.display="initial",e.style.opacity=1,clearInterval(i))}),20)}}function actualizeChart(e=1,t=1,n=1){if(element.graphInfo)if(attribute.hasOwnProperty("showgraph")&&"true"!=attribute.showgraph)element.graphInfo.style.display="none";else{element.graphInfo.style.display="flex";let i=element.graph.querySelector("canvas");if(!i)return null;let r=i.getContext("2d");"undefined"==typeof chart&&(chart=new Chart(r,{type:"doughnut",data:{labels:["0% Falsch","0% Fehlen","0% Korrekt"],datasets:[{label:"",data:[5,5,5],backgroundColor:["rgb(251,176,54)","rgb(232,99,99)","rgb(99,166,99)"],borderColor:"#ffffff88"}]},plugins:[ChartDataLabels],options:{plugins:{legend:{position:"left",labels:{usePointStyle:!0,boxWidth:30,padding:10,font:{size:14}}},datalabels:{display:!1,color:"white",textStrokeColor:"black",textStrokeWidth:1,offset:10,font:{size:15,weight:"bold",family:"system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;"},formatter:function(e,t){return t.chart.data.labels[t.dataIndex]},anchor:"center",align:"end"}},scales:{}}}));let o=t+e+n,s={correct:(100/o*n).toFixed(0),missing:(100/o*e).toFixed(0),incorrect:(100/o*t).toFixed(0)},a={labels:[`${s.incorrect}% Falsch`,`${s.missing}% Fehlen`,`${s.correct}% Korrekt`],datasets:[{label:"",data:[t,e,n],backgroundColor:["rgb(251,176,54)","rgb(232,99,99)","rgb(99,166,99)"],borderColor:"#ffffff88"}]};chart.data=a,chart.update()}}window.onload=e=>{let t=document.querySelector("div.ub_status_check_widget")??document.querySelector("#ubwrap");t&&(attribute=getElementAttributes(t),(element=getElements(t)).button&&(attribute.hasOwnProperty("buttonbgcolor")&&attribute.buttonbgcolor.length&&(element.button.style.backgroundColor=attribute.buttonbgcolor),attribute.hasOwnProperty("buttontextcolor")&&attribute.buttontextcolor.length&&(element.button.style.color=attribute.buttontextcolor)),element.form&&attribute.hasOwnProperty("bgcolor")&&attribute.bgcolor.length&&(element.form.style.backgroundColor=attribute.bgcolor),element.headertext&&attribute.hasOwnProperty("headertext")&&attribute.headertext.length&&(element.headertext.textContent=attribute.headertext),element.ctatext&&attribute.hasOwnProperty("ctatext")&&(element.ctatext.textContent=attribute.ctatext),element.ctabutton&&attribute.hasOwnProperty("ctabuttontext")&&(element.ctabutton.textContent=attribute.ctabuttontext),element.ctalink&&attribute.hasOwnProperty("ctalink")&&(element.ctalink.href=attribute.ctalink),element.allLinks&&attribute.hasOwnProperty("linkcolor")&&attribute.linkcolor.length&&element.allLinks.forEach((e=>{e.style.color=attribute.linkcolor})),element.allTexts&&attribute.hasOwnProperty("textcolor")&&attribute.textcolor.length&&element.allTexts.forEach((e=>{e.style.color=attribute.textcolor})),element.ubtable&&(attribute.hasOwnProperty("showtable")&&"true"!=attribute.showtable?element.ubtable.style.display="none":element.ubtable.style.removeProperty("display")),actualizeChart(),actualizeDirectoryGrid(),toggleResults(!0),document.querySelector("#searchQuery").addEventListener("click",(function(e){toggleForm()})),element.ubcountry.addEventListener("change",(function(e){actualizeDirectoryGrid()})),[element.ubname,element.ubstreet,element.ubzip].forEach((function(e){e.addEventListener("keydown",(function(e){13===e.keyCode&&element.button&&!element.button.getAttribute("disabled")&&btn.click()}))})),element.skipSvg.addEventListener("click",(function(e){element.skipSvg.hasAttribute("disabled")||processResults()})),element.predictionInput.addEventListener("input",(()=>{predictionTimer&&clearTimeout(predictionTimer);const e=element.predictionInput.value;e.length>5?predictionTimer=setTimeout((()=>{fetchPredictions(e)}),500):element.predictionList.innerHTML=""})),document.addEventListener("click",(function(e){let t=document.querySelector(":focus");t&&(/prediction|prediction/gi.test(t.id)||!e.target||/prediction|prediction/gi.test(e.target.id))||(displayPredictions(null,null),element.predictionInput&&(element.predictionInput.value=""))})),
//!DELETE THIS AFTER TESTS
document.querySelector("#times").addEventListener("mouseenter",(function(e){console.log("CHNG",e)})),document.querySelector("#times").addEventListener("mouseleave",(function(e){console.log("CHaaaaNG",e)})),
//!!!!!!!!!!!!!!!!!!!!!!!!!!!
initParams())};let apiToUse=0;const imgSrc="https://static-prod.uberall.com/assets/directory_logo/png/";var uberall={getApiKey:function(){const e=["dTVuUnlrTGpTMnREZnYwc3JsSWFuT3FENzNReFdadXJzWXBIaWY1c2dZb2lGOW9UNHRvQ0x4V2F5Z05FUU5kYg==","c2VvMkUzdmxJaGN2S3NqNlFCRlhMOVpuTHV1TzBLR3ZFMnFaS1c3dHJ4UHhaMkZuOG1JaHUwdVR3dDhsTk1IYjdBUXVVU3dpY0dlNUJZU0RBSHhMWmdyQXVmQTJGWDdBR3lXSlkwN1RwTUxNeGQzb3VDNkJycDF3RzFKSXFDTm4=","akdqakZmbFV5Sk9UakJ1ZW9pWkZCaHRvaXZDQVNEZlJIQnl1TTNFQnRuU0pySEtrQWRjd0I3U3kzdnFUM1BaTWxYcEVqUFdXdUJKTGZBVFZxVWhuTlIxQmhxQzZSZHBSSFFjek92d3IzbTdpcDRtcDhWVW1wTVBsNXR2dW9kOXo=","akxoQTM2TWxqM1hzQm5yS0RkTUhEMjdmYWV0WHFGVUJzQlRRb0Y2ajNack52OTZtdzlWMDNSVFJPSFVsYWJabg=="];return atob(e[Math.floor(Math.random()*e.length)])},directoryType:{GOOGLE:{name:"Google",logo:`${imgSrc}GOOGLE.png`,countries:["de","at","ch","uk"],description:"Google ist eine mächtige Suchmaschine, die Menschen hilft, online Informationen zu finden. Für Unternehmen bietet Google Tools wie Google My Business an, um Online-Einträge zu verwalten, damit Kunden sie leichter finden, Bewertungen sehen und Kontaktinformationen erhalten können."},GOOGLE_MAPS:{name:"Google Maps",logo:`${imgSrc}GOOGLE_MAPS.png`,countries:["de","at","ch","uk"],description:"Google Maps ist ein Online-Kartendienst, der Nutzern hilft, Orte zu finden und Wegbeschreibungen zu erhalten. Unternehmen können ihre Standorte hinzufügen, um leichter von Kunden gefunden zu werden."},TOMTOM:{name:"TomTom",logo:`${imgSrc}TOMTOM.png`,countries:["de","at","ch","uk"],description:"TomTom bietet Navigationsdienste und Kartenlösungen. Unternehmen können ihre Standorte hinzufügen, um in Navigationsgeräten und Karten-Apps leichter gefunden zu werden."},FACEBOOK:{name:"Facebook",logo:`${imgSrc}FACEBOOK.png`,countries:["de","at","ch","uk"],description:"Facebook ist ein soziales Netzwerk, das es Unternehmen ermöglicht, mit Kunden zu interagieren, Werbekampagnen zu schalten und ihre Online-Präsenz zu stärken."},INSTAGRAM:{name:"Instagram",logo:`${imgSrc}INSTAGRAM.png`,countries:["de","at","ch","uk"],description:"Instagram ist eine soziale Plattform für das Teilen von Fotos und Videos. Unternehmen können hier visuelle Inhalte nutzen, um ihre Marke zu fördern und mit Kunden in Kontakt zu treten."},MICROSOFT_CORTANA:{name:"Microsoft Cortana",logo:`${imgSrc}MICROSOFT_CORTANA.png`,countries:["de"],description:"Microsoft Cortana ist ein digitaler Assistent, der Nutzern hilft, Aufgaben zu verwalten und Informationen zu finden. Unternehmen können ihre Daten hinzufügen, um in den Suchanfragen von Cortana gefunden zu werden."},BING:{name:"Bing",logo:`${imgSrc}BING.png`,countries:["de","at","ch","uk"],description:"Bing ist eine Suchmaschine von Microsoft. Unternehmen können ihre Einträge hinzufügen, um von Nutzern leichter gefunden zu werden, ähnlich wie bei Google."},APPLE_MAPS:{name:"Apple Maps",logo:`${imgSrc}APPLE_MAPS.png`,countries:["de","ch","at","uk"],description:"Apple Maps ist ein Kartendienst von Apple. Unternehmen können ihre Standorte eintragen, um in der Karten-App von Apple leichter gefunden zu werden."},NOKIA_HERE:{name:"Nokia Here",logo:`${imgSrc}NOKIA_HERE.png`,countries:["de","at","ch","uk"],description:"Nokia Here bietet Karten- und Navigationsdienste. Unternehmen können ihre Standorte eintragen, um in den Diensten von Here leichter gefunden zu werden."},AUSKUNFT:{name:"Auskunft",logo:`${imgSrc}AUSKUNFT.png`,countries:["de"],description:"Auskunft ist ein Online-Verzeichnisdienst, der Unternehmen hilft, von Kunden gefunden zu werden, indem er Kontaktinformationen und Bewertungen bereitstellt."},NEXT_DOOR:{name:"Nextdoor",logo:`${imgSrc}NEXT_DOOR.png`,countries:["de","ca","nl","uk","fr","es","it","au","se","dk"],description:"Nextdoor ist ein soziales Netzwerk für Nachbarschaften. Unternehmen können lokale Angebote und Neuigkeiten teilen, um direkt mit der Nachbarschaft zu interagieren."},MEINESTADT:{name:"Meinestadt",logo:`${imgSrc}MEINESTADT.png`,countries:["de"],description:"Meinestadt ist ein lokales Verzeichnis, das Informationen zu Unternehmen, Veranstaltungen und Dienstleistungen in verschiedenen Städten Deutschlands bietet."},INFOBEL:{name:"Infobel",logo:`${imgSrc}INFOBEL.png`,countries:["de","at","ch","uk"],description:"Infobel ist ein Online-Telefonbuch und Verzeichnisdienst, der Unternehmen hilft, von Kunden gefunden zu werden, indem er Kontaktinformationen und Bewertungen bereitstellt."},NAVMII:{name:"Navmii",logo:`${imgSrc}NAVMII.png`,countries:["de","at","ch","uk"],description:"Navmii ist eine Navigations-App, die Offline-Karten und GPS-Dienste bietet. Unternehmen können ihre Standorte hinzufügen, um in der App leichter gefunden zu werden."},WAZE:{name:"Waze",logo:`${imgSrc}WAZE.png`,countries:["de","ch"],description:"Waze ist eine Navigations-App, die auf Echtzeit-Verkehrsinformationen basiert. Unternehmen können ihre Standorte eintragen, um von Nutzern, die unterwegs sind, leichter gefunden zu werden."},GOOGLE_ASSISTANT:{name:"Google Assistant",logo:`${imgSrc}GOOGLE_ASSISTANT.png`,countries:["de"],description:"Google Assistant ist ein digitaler Assistent, der Nutzern hilft, Informationen zu finden und Aufgaben zu erledigen. Unternehmen können ihre Daten hinzufügen, um in den Suchanfragen von Google Assistant gefunden zu werden."},GO_LOCAL:{name:"GoLocal",logo:`${imgSrc}GO_LOCAL.png`,countries:["de"],description:"GoLocal ist ein Online-Verzeichnisdienst, der lokale Unternehmen fördert, indem er deren Kontaktinformationen und Dienstleistungen bereitstellt."},CYLEX:{name:"Cylex",logo:`${imgSrc}CYLEX.png`,countries:["de","at","ch","uk"],description:"Cylex ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Bewertungen, Kontaktinformationen und Dienstleistungen auflistet."},STADTBRANCHENBUCH:{name:"Stadtbranchenbuch",logo:`${imgSrc}STADTBRANCHENBUCH.png`,countries:["de","at","ch","uk"],description:"Stadtbranchenbuch ist ein Online-Branchenbuch, das Informationen über lokale Unternehmen bietet, einschließlich Bewertungen, Kontaktinformationen und Dienstleistungen."},I_GLOBAL:{name:"iGlobal",logo:`${imgSrc}I_GLOBAL.png`,countries:["de","at","ch","uk"],description:"iGlobal ist ein globales Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},OEFFNUNGSZEITENBUCH:{name:"Öffnungszeitenbuch",logo:`${imgSrc}OEFFNUNGSZEITENBUCH.png`,countries:["de","at","ch"],description:"Öffnungszeitenbuch ist ein Online-Verzeichnis, das die Öffnungszeiten und Kontaktinformationen von Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},BUNDES_TELEFONBUCH:{name:"BundesTelefonbuch",logo:`${imgSrc}BUNDES_TELEFONBUCH.png`,countries:["de"],description:"BundesTelefonbuch ist ein Online-Telefonbuch, das Kontaktinformationen von Unternehmen und Privatpersonen in Deutschland bereitstellt."},UNTERNEHMENSAUSKUNFT:{name:"Unternehmensauskunft",logo:`${imgSrc}UNTERNEHMENSAUSKUNFT.png`,countries:["de","at","ch"],description:"Unternehmensauskunft ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},WO_GIBTS_WAS:{name:"wogibtswas.de",logo:`${imgSrc}WO_GIBTS_WAS.png`,countries:["de"],description:"wogibtswas.de ist ein Online-Verzeichnis, das lokale Unternehmen und deren Dienstleistungen auflistet, um Kunden zu helfen, diese leichter zu finden."},TUPALO:{name:"Tupalo",logo:`${imgSrc}TUPALO.png`,countries:["de","at","ch","uk"],description:"Tupalo ist ein Online-Verzeichnis, das Bewertungen und Kontaktinformationen von Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},DIALO:{name:"Dialo",logo:`${imgSrc}DIALO.png`,countries:["de"],description:"Dialo ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},HOTFROG:{name:"Hotfrog",logo:`${imgSrc}HOTFROG.png`,countries:["de","at","ch","uk"],description:"Hotfrog ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Dienstleistungen auflistet."},KOOMIO:{name:"Koomio",logo:`${imgSrc}KOOMIO.png`,countries:["de","at","ch"],description:"Koomio ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Dienstleistungen auflistet."},INFO_IS_INFO:{name:"Infoisinfo",logo:`${imgSrc}INFO_IS_INFO.png`,countries:["de","at","uk"],description:"Infoisinfo ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},BRANCHENBUCH_DEUTSCHLAND:{name:"Branchenbuch Deutschland",logo:`${imgSrc}BRANCHENBUCH_DEUTSCHLAND.png`,countries:["de"],description:"Branchenbuch Deutschland ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen in Deutschland bereitstellt, um Kunden zu helfen, diese leichter zu finden."},MARKTPLATZ_MITTELSTAND:{name:"Marktplatz Mittelstand",logo:`${imgSrc}MARKTPLATZ_MITTELSTAND.png`,countries:["de"],description:"Marktplatz Mittelstand ist ein Online-Verzeichnis, das Informationen und Bewertungen zu mittelständischen Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},GO_YELLOW:{name:"GoYellow",logo:`${imgSrc}GO_YELLOW.png`,countries:["de"],description:"GoYellow ist ein Online-Branchenbuch, das Informationen und Bewertungen zu Unternehmen in Deutschland bereitstellt, um Kunden zu helfen, diese leichter zu finden."},WHERE_TO:{name:"WhereTo",logo:`${imgSrc}WHERE_TO.png`,countries:["de","at","ch","uk"],description:"WhereTo ist eine Navigations-App, die Nutzern hilft, Orte zu finden und Wegbeschreibungen zu erhalten. Unternehmen können ihre Standorte hinzufügen, um leichter gefunden zu werden."},FIND_OPEN:{name:"FindeOffen",logo:`${imgSrc}FIND_OPEN.png`,countries:["de","at","ch","uk"],description:"FindeOffen ist ein Online-Verzeichnis, das die Öffnungszeiten und Kontaktinformationen von Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},YELLBO:{name:"Yellbo",logo:`${imgSrc}YELLBO.png`,countries:["de","at","ch"],description:"Yellbo ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Dienstleistungen auflistet."},JELLOO:{name:"Jelloo",logo:`${imgSrc}JELLOO.png`,countries:["de","at","ch"],description:"Jelloo ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},UBER:{name:"Uber",logo:`${imgSrc}UBER.png`,countries:["de","ch","at","uk"],description:"Uber ist ein Fahrdienstvermittler, der es Unternehmen ermöglicht, ihre Dienste in der App anzubieten, um von Kunden leichter gefunden und gebucht zu werden."},FOURSQUARE:{name:"Foursquare",logo:`${imgSrc}FOURSQUARE.png`,countries:["de","at","ch","uk"],description:"Foursquare ist eine lokale Such- und Entdeckungsplattform. Unternehmen können ihre Standorte hinzufügen, um von Nutzern leichter gefunden zu werden."},ALEXA:{name:"Alexa",logo:`${imgSrc}ALEXA.png`,countries:["de","at","ch","uk"],description:"Alexa ist ein digitaler Assistent von Amazon, der Nutzern hilft, Informationen zu finden und Aufgaben zu erledigen. Unternehmen können ihre Daten hinzufügen, um in den Suchanfragen von Alexa gefunden zu werden."},HUAWEI:{name:"Petal Search",logo:`${imgSrc}HUAWEI.png`,countries:["de","at","ch","uk"],description:"Petal Search ist eine Suchmaschine von Huawei, die Unternehmen hilft, von Kunden gefunden zu werden, indem sie ihre Kontaktinformationen und Dienstleistungen auflistet."},SIRI:{name:"Siri",logo:`${imgSrc}SIRI.png`,countries:["de","at","ch","uk"],description:"Siri ist ein digitaler Assistent von Apple, der Nutzern hilft, Informationen zu finden und Aufgaben zu erledigen. Unternehmen können ihre Daten hinzufügen, um in den Suchanfragen von Siri gefunden zu werden."},BROWNBOOK:{name:"Brownbook",logo:`${imgSrc}BROWNBOOK.png`,countries:["de","at","ch"],description:"Brownbook ist ein globales Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},BUSINESSBRANCHENBUCH:{name:"Businessbranchenbuch",logo:`${imgSrc}BUSINESSBRANCHENBUCH.png`,countries:["de","at","ch"],description:"Businessbranchenbuch ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},PAGES24:{name:"Pages24",logo:`${imgSrc}PAGES24.png`,countries:["ch"],description:"Pages24 ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},ABCLOCAL:{name:"ABC Local",logo:`${imgSrc}ABCLOCAL.png`,countries:["de","at"],description:"ABC Local ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},YALWA:{name:"Yalwa",logo:`${imgSrc}YALWA.png`,countries:["de","at","ch"],description:"Yalwa ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Dienstleistungen auflistet."},GUIDELOCAL:{name:"GuideLocal",logo:`${imgSrc}GUIDELOCAL.png`,countries:["de","at","ch"],description:"GuideLocal ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},TRIP_ADVISOR:{name:"Tripadvisor",logo:`${imgSrc}TRIP_ADVISOR.png`,countries:["de","at","ch"],description:"Tripadvisor ist eine Plattform für Reisebewertungen, die es Unternehmen ermöglicht, von Reisenden gefunden und bewertet zu werden."},CENTRAL_INDEX:{name:"Central Index",logo:`${imgSrc}CENTRAL_INDEX.png`,countries:["uk","im","gg"],description:"Central Index ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},TOUCH_LOCAL:{name:"Touch Local",logo:`${imgSrc}TOUCH_LOCAL.png`,countries:["uk"],description:"Touch Local ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},THE_SCOTSMAN:{name:"The Scotsman",logo:`${imgSrc}THE_SCOTSMAN.png`,countries:["uk","im","gg"],description:"The Scotsman ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},THE_MIRROR:{name:"The Mirror",logo:`${imgSrc}THE_MIRROR.png`,countries:["uk","im","gg"],description:"The Mirror ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},SCOOT:{name:"Scoot",logo:`${imgSrc}SCOOT.png`,countries:["uk"],description:"Scoot ist ein Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},CITIPAGES:{name:"Citipages",logo:`${imgSrc}CITIPAGES.png`,countries:["uk","im","gg"],description:"Citipages ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},LIVERPOOL_ECHO:{name:"Liverpool Echo",logo:`${imgSrc}LIVERPOOL_ECHO.png`,countries:["uk","im","gg"],description:"Liverpool Echo ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},ACOMPIO:{name:"Acompio",logo:`${imgSrc}ACOMPIO.png`,countries:["uk","us","ca","au","nz","es","ie","im","gg"],description:"Acompio ist ein internationales Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Bewertungen bereitstellt."},MY_LOCAL_SERVICES:{name:"My Local Services",logo:`${imgSrc}MY_LOCAL_SERVICES.png`,countries:["us","uk","gg"],description:"My Local Services ist ein Online-Verzeichnis, das Informationen und Bewertungen zu Unternehmen bereitstellt, um Kunden zu helfen, diese leichter zu finden."},MANTA:{name:"Manta",logo:`${imgSrc}MANTA.png`,countries:["us","ca","au","uk","im","gg"],description:"Manta ist ein internationales Online-Verzeichnis, das Unternehmen hilft, von Kunden gefunden zu werden, indem es Kontaktinformationen und Dienstleistungen auflistet."},MAP_QUEST:{name:"MapQuest",logo:`${imgSrc}MAP_QUEST.png`,countries:["us","ca","uk","au","nz","za"],description:"MapQuest ist ein Online-Kartendienst, der Nutzern hilft, Orte zu finden und Wegbeschreibungen zu erhalten. Unternehmen können ihre Standorte hinzufügen, um leichter gefunden zu werden."},THE_SUN:{name:"The Sun",logo:`${imgSrc}THE_SUN.png`,countries:["us","uk"],description:"The Sun ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},THE_DAILY_RECORD:{name:"The Daily Record",logo:`${imgSrc}THE_DAILY_RECORD.png`,countries:["uk","im","gg"],description:"The Daily Record ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},THE_EVENING_STANDARD:{name:"The Evening Standard",logo:`${imgSrc}THE_EVENING_STANDARD.png`,countries:["uk","im","gg"],description:"The Evening Standard ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."},THE_INDEPENDENT:{name:"The Independent",logo:`${imgSrc}THE_INDEPENDENT.png`,countries:["uk"],description:"The Independent ist eine britische Zeitung, die Unternehmen hilft, ihre Dienste durch Werbeanzeigen und Einträge in ihrem Online-Verzeichnis zu bewerben."}},search:async function({name:e,street:t=e,city:n="",zip:i="",country:r=null,phone:o="",key:s=null,lat:a=null,lng:l=null}){if(s||(s=uberall.getApiKey()),!e||!i)return{status:"INVALID_PARAMETER",message:"Invalid Validator",response:{zip:"validator.invalid",street:"NOT_NULLABLE",name:"NOT_NULLABLE"}};let u=r||(/[a-z0-9]{3}\s[a-z0-9]{3}/i.test(i)?"UK":4==i.length?"AT":"DE");o.length>4&&(o.replace("+","00").replace(/\D/gi,""),o.startsWith("0043")?u="AT":o.startsWith("0049")?u="DE":o.startsWith("0041")?u="CH":o.startsWith("0044")&&(u="UK"),t==e&&(t=""));let c=null,d=null;try{c=await async function(){return await new Promise(((r,o)=>{!async function(){let o={status:"QUOTA_LIMIT_EXCEED"},a=10;!async function l(c=s){const m={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_key:c,name:e,country:u,street:t,city:n,zip:i})};d=await fetch("https://uberall.com/api/search",m).catch((e=>console.log(e))),d&&(o=await d.json()),"QUOTA_LIMIT_EXCEED"==o.status&&a?(a--,apiToUse=0==apiToUse?1:0,setTimeout(l,1e3,uberall.getApiKey())):r(o)}()}()}))}()}catch(e){return null}return c},searchDir:async({id:e,directory:t,token:n,country:i=null,public_key:r=null,directoryLogoSize:o=16,boolTickSize:s=11,infoTextSize:a=9,searchData:l=null})=>{r||(r=uberall.getApiKey());let u=null;i||(l||(l=await uberall.getRecheckInfo({public_key:r,recheckid:e,rechecktoken:n})),l&&(i=l.country.toLowerCase())),i||(i="DE");try{u=await async function(){return await new Promise(((i,u)=>{!async function(){let u,c={status:"QUOTA_LIMIT_EXCEED"};(async function d(m=r){c={status:"QUOTA_LIMIT_EXCEED"},u=await fetch(`https://uberall.com/api/search/${e}?public_key=${m}&directory=${t}&token=${n}`),c=await u.json(),"SUCCESS"==c.status&&(c.response.alreadyManaged||!!c.response.managedLocation?c.response.alreadyManaged=!0:null!=c.response.result.attribution&&null!=c.response.result.attribution&&/movido|aadvanto|spectario/gi.test(c.response.result.attribution.name)&&(l&&c.response.result.name.replace(/[^a-z0-9]/gi,"")==l.name.replace(/[^a-z0-9]/gi,"")&&c.response.result.zip==l.zip&&(c.response.alreadyManaged=!0),c.response.result.attribution&&console.log("dt.response.result has Attribution;",c.response.result)));let h={data:c,directoryLogoSize:o,boolTickSize:s,infoTextSize:a};c.html=uberall.getHtml(h),c.id=e,c.token=n,"QUOTA_LIMIT_EXCEED"==c.status?(apiToUse=0==apiToUse?1:0,setTimeout(d,1e3,uberall.getApiKey())):i(c)}).bind(this)()}()}))}.bind(this)()}catch(e){return console.log("[uberall] Error: ",e),null}return u},fullCheck:async function({id:e=null,token:t=null,country:n=null,skip:i=[],public_key:r=null,callback:o=null,name:s=null,street:a=s,city:l=null,zip:u=null,directoryLogoSize:c=16,boolTickSize:d=11,infoTextSize:m=9}){r||(r=uberall.getApiKey());let h=[];return h=await async function(){let h=null;if(e&&t&&(h=await uberall.getRecheckInfo({recheckid:e,rechecktoken:t,public_key:r}),h&&(s=h.name,a=h.street+(h.streetNo&&h.streetNo.length?" "+h.streetNo:""),u=h.zip,l=h.city,n=h.country.toLowerCase())),s&&a&&u&&!e&&!t){let i=await new Promise(((e,t)=>{uberall.search({name:s,street:a,city:l,zip:u,country:n}).then((t=>{e(t)})).catch((e=>t(e)))}));if(!i||"SUCCESS"!=i.status)return i;h=i.response.searchData,e=h.id,t=h.token,n||(n=h.country)}return await new Promise(((r,s)=>{if(e&&t){const a=Object.keys(this.directoryType).filter((e=>!n||this.directoryType[e].countries.includes(n.toLowerCase()))),l=Object.keys(this.directoryType).filter((e=>!n||this.directoryType[e].countries.includes(n.toLowerCase()))).filter((e=>!i.includes(e)));let u=[],g=0,p=0,b=0,f=0,S=!1;for(const y in this.directoryType)if(this.directoryType[y].countries.includes(n.toLowerCase()))try{this.searchDir({id:e,token:t,country:n,directory:y,public_key:uberall.getApiKey(),directoryLogoSize:c,boolTickSize:d,infoTextSize:m,searchData:h}).then((n=>{g++,i.includes(y)||(1==n.html.correct?p++:0==n.html.correct?b++:(n.html.correct,f++),"SUCCESS"==n.status&&(!n.response.alreadyManaged&&!n.response.managedLocation||(S=!0)),o&&o({directory:y,result:n,dirTotal:l.length,dirDone:p+b+f,finished:p+b+f==l.length,correct:p,incorrect:b,missing:f,alreadyManaged:S,id:e,token:t,searchData:h}),u.push(n)),g==a.length&&r(u)}))}catch(e){s(e)}}else s(null)}))}.bind(this)(),h},pdfExport:async function(e,t=2e3,n=null,i=!0,r="#27435c",o=null,s=null,a="Testen Sie Ihre Auffindbarkeit",l="de",u=20){n||(n=uberall.getApiKey());let c=!e.includes("-"),d=null,m="https://uberall.com/api/searchExports";c?d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({public_key:n,token:[e],customParams:{showgraph:i,bgcolor:r,contactphone:o,contactemail:s,headertext:a,language:l}})}:m+=`/${e}?public_key=${n}`;let h=await fetch(m,d),g=await h.json(),p=c?g.response.result.status:g.response.status,b=c?g.response.result.id:g.response.id;if(d=null,m=`https://uberall.com/api/searchExports/${b}?public_key=${n}`,"SCHEDULED"==p)return await new Promise(((e,i)=>{let r=setInterval((async()=>{if("SCHEDULED"==p&&u&&(h=await fetch(m,d),g=await h.json(),p=g.response.status,u--),"FINISHED"==p&&u){let t=`https://uberall.com/api/searchExports/${b}/download?public_key=${n}`;return clearInterval(r),e(t),t}if(!u)return clearInterval(r),e(null),null}),t)}))},generatePdfName:function({name:e,recheckid:t,zip:n,isrecheck:i=!1}){const r=Math.floor((new Date).getTime()/1e3),o=new Date(1e3*r),s=`${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}${o.getDate().toString().padStart(2,"0")}`;return`${i?"status_report":e.substring(0,32)}_${i?t:n}_${s}`},getHtml:function({data:e,mismatchStyle:t="color:#e74c3c; font-weight:bold",directoryLogoSize:n=16,boolTickSize:i=12,infoTextSize:r=12,presentSvg:o="https://static-prod.uberall.com/assets/statusCheck/present.svg",missingSvg:s="https://static-prod.uberall.com/assets/statusCheck/missing.svg",loadingSvg:a="https://www.svgrepo.com/show/48167/wait.svg",includePhoneAndWebsite:l=!0}){let u={dir:null,info:null,times:"-",pictures:"-",correct:!0};if("SUCCESS"==e.status)if(e.response.alreadyManaged)u.logo="https://static-prod.uberall.com/assets/statusCheck/safeguard_active.svg",u.name='<span style="color:#378805; font-weight:bold;">Dieser Standort wurde registriert</span>',u.address='<span style="color:#378805; font-weight:bold;">und wird fortlaufend optimiert.</span>',u.dir=`<img id="UBERALL_Logo" alt="" src="${u.logo}" style="height:${n}px; width:${n}px" />`,u.info=`<span style="color:#378805; font-weight:bold; font-size:12px">${e.response.result.attribution?"Optimiert von "+e.response.result.attribution.name:"Dieser Standort wurde registriert und wird fortlaufend optimiert."}</span>`,u.times="-",u.pictures="-";else{const a=e.response.result,l=a.directoryType,c={url:a.listingUrl,website:{val:a.website,match:"PRESENT"==a.websiteStatus},name:{val:a.name,match:"MATCH"==a.nameStatus},streetAndNo:{val:a.streetAndNo,match:"MATCH"==a.streetAndNoStatus},city:{val:a.city,match:"MATCH"==a.cityStatus},phone:{val:a.phone,match:"PRESENT"==a.phoneStatus},photos:{val:a.photos,match:"PRESENT"==a.photosStatus},times:{val:a.openingHours,match:"PRESENT"==a.openingHoursStatus}};if(u.logo=`https://static-prod.uberall.com/assets/directory_logo/png/${l}.png`,u.name=`<span style="${t}; float:left;">Kein</span>`,u.address=`<span style="${t}; float:left;">Eintrag</span>`,u.dir=`<p style="text-align:center"><img id="${l}_Logo" alt="" src="${u.logo}" style="height:${n}px; width:${n}px" /></br><span id="${l}_Name" style="font-size:${r}px">${this.directoryType[l].name}</span></p>`,u.info=`<span style="${t}; font-size:${r}px;float:left;">Kein Eintrag</span>`,u.times='<span style="text-align:center;float:center">-</td>',u.pictures=`<span id="${l}_Pictures" style="text-align:center;float:center">-</span>`,null!=c.url){u.dir=`<a href="${c.url}" target="_blank"><p style="text-align:center"><img id="${l}_Logo" alt="" src="${u.logo}" style="height:${n}px; width:${n}px" /></br><span id="${l}_Name" style="font-size:${r}px; font-weight:bold">${this.directoryType[l].name}</span></p></a>`;let e=c.name.val,a=c.streetAndNo.val,d=c.city.val,m=c.phone.val,h=c.website.val;c.name.match||(e=`<span style="${t}">`+e+"</span>",u.correct=!1),c.streetAndNo.match||(u.correct=!1,"null"!=a&&""!=a||(a="keine Adresse"),a=`<span style="${t}">`+a+"</span>","null"!=d&&(c.city.match||(d=`<span style="${t}">`+d+"</span>"))),c.phone.match||(u.correct=!1,m=`<span style="${t}">keine Telefonnummer</span>`),c.website.match||(u.correct=!1,h=`<span style="${t}">keine Webseite</span>`),c.photos.match||(u.correct=!1),c.times.match||(u.correct=!1),u.name=`${e}`,u.address=`${a}${"null"!=d?", "+d:""}`,u.info=`<td id="${l}_Info"><span style="line-height:14px;font-size:${r}px;float:left;">${e}<br/>${u.address}<br/>${m}<br/>${h}</span></td>`,u.times=`<td id="${l}_Times style="text-align:center"><img alt="" src="${c.times.match?o:s}" style="height:${i}px; width:${i+1}px" /></td>`,u.pictures=`<td id="${l}_Pictures" style="text-align:center"><img alt="" src="${c.photos.match?o:s}" style="height:${i+1}px; width:${i}px"/></td>`}else u.correct=null}else"INVALID_PARAMETER"==e.status?(u.logo="https://static.thenounproject.com/png/2222119-200.png",u.name="Bitte überprüfen",u.address="ihre Angaben!",u.dir=`<img id="UBERALL_Logo" alt="" src="${u.logo}" style="height:${n}px; width:${n}px" />`,u.info='<span style="color:#161616; font-weight:bold; font-size:12px">Bitte überprüfen sie ihre Angaben!</span>',u.times="-",u.pictures="-",u.correct=null):"QUOTA_LIMIT_EXCEED"==e.status&&(u.logo="https://pic.onlinewebfonts.com/thumbnails/icons_376288.svg",u.name="Quota limit",u.address="exceeded!",u.dir=`<img id="UBERALL_Logo" alt="" src="${u.logo}" style="height:${n}px; width:${n}px" />`,u.info='<span style="color:#161616; font-weight:bold; font-size:12px">Quota limit exceeded.</span>',u.times="-",u.pictures="-",u.correct=null);return u},getHtmlFull:function(e){let t={results:{},correct:0,incorrect:0,missing:0};for(const n in e){let i=this.getHtml({data:e[n]});null==i.correct?t.missing++:i.correct?i.correct&&t.correct++:t.incorrect++,t.results[n]=e[n],t.results[n].html=i}return t},getRecheckInfo:async function({public_key:e=null,recheckid:t,rechecktoken:n}){if(e||(e=uberall.getApiKey()),e&&t&&n){return await new Promise(((i,r)=>{fetch(`https://uberall.com/de/home/statusCheckMessages?public_key=${e}&recheckid=${t}&rechecktoken=${n}`).then((e=>(200!=e.status&&i(null),e.text()))).then((e=>{let t=e.match(/(?<=searchData:\s)(\{.+?\})/gms);if(!t)return i(null);let n=t[0].match(/(?<=\s)\w+(?=:)|(?<=:\s").+(?=["][,\s])/gim),r=null;if(n&&n.length>=18){r={};for(let e=0;e<n.length;e+=2)r[n[e]]=n[e+1].replace(/\\u002f/gim,"/")}i(r)})).catch((e=>console.log("[uberall.js] getRecheckInfo",e)))}))}},parseAnalysisLink:function(e){let t,n=null;try{t=new URL(e)}catch(e){n=null}finally{if(t){const e=new URLSearchParams(t.search);n={name:e.get("ubname"),street:e.get("ubstreet"),zip:e.get("ubzip"),country:e.get("ubcountry"),token:e.get("ubrechecktoken"),id:e.get("ubrecheckid")}}}return n}};